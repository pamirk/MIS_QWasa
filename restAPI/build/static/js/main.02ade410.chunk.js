(window["webpackJsonpWasa-auth"]=window["webpackJsonpWasa-auth"]||[]).push([[2],{101:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){e.exports=a(572)},298:function(e,t,a){},299:function(e,t,a){},533:function(e,t,a){},548:function(e,t,a){},552:function(e,t,a){},572:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),i=(a(298),a(299),a(38)),s=a(49),c=a.n(s),m=a(77),d=a(7),u=a(5),p=a(9),h=a(8),f=a(10),g=a(128),E=a.n(g),b="http://localhost:3003/v2.api",_="http://localhost:3003/",y=a(29),v=a.n(y),w=function(){function e(){Object(d.a)(this,e)}return Object(u.a)(e,[{key:"api",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=b+e,l={method:t,headers:{"Content-Type":"application/json; charset=utf-8",type:"formData"}};if(null!==a&&(l.body=JSON.stringify(a)),n){var i=btoa("".concat(r.username,":").concat(r.password));l.headers.Authorization="Basic ".concat(i)}return fetch(o,l)}},{key:"getUser",value:function(){var e=Object(m.a)(c.a.mark((function e(t,a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pk: ",t,a,n),e.next=3,this.api("/getusers","POST",{username:t,password:a,role:n},!0,{username:t,password:a,role:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.json().then((function(e){return e})));case 8:if(401!==r.status){e.next=12;break}return e.abrupt("return",null);case 12:throw new Error;case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getConsumer",value:function(){var e=Object(m.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("pk: ",t,a),e.next=3,this.api("/getConsumer","POST",{cnic:t,password:a},!1);case 3:if(n=e.sent,console.log("response: ",n),200!==n.status){e.next=9;break}return e.abrupt("return",n.json().then((function(e){return e})));case 9:if(401!==n.status){e.next=13;break}return e.abrupt("return",null);case 13:throw new Error;case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(m.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),(a=new FormData).append("account_number",t.account_number),a.append("user_cnic",t.user_cnic),a.append("user_name",t.user_name),a.append("user_email",t.user_email),a.append("user_password",t.user_password),a.append("user_address",t.user_address),a.append("user_contact",t.user_contact),a.append("user_cnic_front_image",t.user_cnic_front_image,t.user_cnic_front_image),a.append("user_cnic_back_image",t.user_cnic_back_image,t.user_cnic_back_image),a.append("user_wasa_bill_image",t.user_wasa_bill_image,t.user_wasa_bill_image),v.a.post("http://localhost:3003/api/create_consumer",a).then((function(e){if(console.log("hi htere",e.data.status),201===e.data.status)return[];if(400===e.data.status)return e.data.json().then((function(e){return e.errors}));throw new Error}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=r.a.createContext(),O=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={authenticatedUser:E.a.getJSON("authenticatedUser")||null},e.signIn=function(){var t=Object(m.a)(c.a.mark((function t(a,n,r){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.getUser(a,n,r);case 2:return null!==(o=t.sent)&&(e.setState((function(){return{authenticatedUser:o}})),{expires:1},E.a.set("authenticatedUser",JSON.stringify(o),{expires:1})),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.consumerSignIn=function(){var t=Object(m.a)(c.a.mark((function t(a,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.data.getConsumer(a,n);case 2:return r=t.sent,console.log("user: ",r),null!==r&&(e.setState((function(){return{authenticatedUser:D({},r,{role:"consumer"})}})),{expires:1},E.a.set("authenticatedUser",JSON.stringify(r),{expires:1})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.signOut=function(){e.setState({authenticatedUser:null}),E.a.remove("authenticatedUser")},e.data=new w,e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={authenticatedUser:this.state.authenticatedUser,data:this.data,actions:{signIn:this.signIn,consumerSignIn:this.consumerSignIn,signOut:this.signOut}};return r.a.createElement(C.Provider,{value:e},this.props.children)}}]),t}(n.Component),j=C.Consumer;function k(e){return function(t){return r.a.createElement(C.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}}var I=a(19),x=a(89),P=a(74),F=a(116),T=a(280),M=a(585),A=a(88),N=a(590),B=a(51),L=(a(101),a(289)),R=function e(){Object(d.a)(this,e)};R.showErrorMessage=function(e,t){L.a.error(e,t),L.a.error(e,t)},R.showSuccessMessage=function(e,t){L.a.success(e,t),L.a.success(e,t)};var V=M.a.Item,z=(A.a.Option,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.setBaseInfo=function(){var e=a.props,t=e.data,n=e.form;t&&Object.keys(n.getFieldsValue()).forEach((function(e){var a={};a[e]=t[e]||null,n.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e){e?R.showErrorMessage("Error",5):a.getDataOutofForm()}))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("address_id",a.props.itemkey),t.append("employee_id",a.props.id),R.showSuccessMessage("Updated Successfully",5),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/employee_address_update",t).then((function(e){200===e.status&&a.props.hideHandler()}))},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.state={loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setBaseInfo()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement(M.a,this.formItemLayout,r.a.createElement(V,{label:"current_address"},e("current_address",{rules:[{required:!0,message:"Please Provide Your CNIC"}]})(r.a.createElement(N.a,null))),r.a.createElement(V,{label:"MESSAGEpermanent_address"},e("permanent_address",{rules:[{required:!0,message:"Please Provide Your Name"}]})(r.a.createElement(N.a,null))),r.a.createElement(V,{label:"postal_code"},e("postal_code",{rules:[{required:!0,message:"Please Provide Your Father Name"}]})(r.a.createElement(N.a,null))),r.a.createElement(V,{label:"phone_number"},e("phone_number",{rules:[{required:!0,message:"Please Provide Your Date of Appointment"}]})(r.a.createElement(N.a,{type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Provide your Date of Appointment"}))),r.a.createElement(V,{label:"phone_number2"},e("phone_number2",{rules:[{required:!0,message:"Please Provide Your Date of Birth"}]})(r.a.createElement(N.a,{type:"date",name:"phone_number2 ",id:"phone_number2",placeholder:"Provide your Date of Birth"}))),r.a.createElement(M.a.Item,this.tailFormItemLayout,r.a.createElement(B.a,{type:"primary",onClick:this.handleSubmit},"Update Information"))))}}]),t}(n.Component)),U=M.a.create()(z),H=a(4),G=a(593),q=a(66),W=a(582),Y=a(587),K=M.a.Item,J=(A.a.Option,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.menu=void 0,a.Des_menu=void 0,a.setBaseInfo=function(){var e=a.props.form,t=a.props.data.filter((function(e){return e.emp_des_id===a.props.Indexkey}))[0];console.log("data: -> ",t);var n={emp_des_order_date:t.emp_des_order_date.substring(0,10),emp_des_appointment_date:t.emp_des_appointment_date.substring(0,10),department_name:t.department_name,des_title:t.des_title,des_photo:t.emp_des_order_letter_photo};console.log("mydata ",n),n&&Object.keys(e.getFieldsValue()).forEach((function(t){var a={};a[t]=n[t]||null,e.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e?L.a.error("Invalid inputs"):a.getDataOutofForm()}))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("employee_id",a.props.id),t.append("des_id",a.Des_menu.value),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/promote_emoployee",t).then((function(e){200==e.status&&(L.a.success("Updated Successfully",5),L.a.success("Updated Successfully",5),a.props.hideHandler())}))},a.getDepartmentList=function(){var e=[];fetch("http://localhost:3003/api/department_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("getDepartmentList is here: ",t);for(var n=1;n<=t.length;n++){var o=t[n-1];console.log(o.department_name,"department.department_id: ",o.department_name),e.push(r.a.createElement("option",{value:o.department_id},o.department_name))}a.setState({divisions:e})}))},a.getDesignationsList=function(e){var t=[];fetch("http://localhost:3003/api/designation_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=1;n<=e.length;n++){var o=e[n-1];t.push(r.a.createElement("option",{value:o.des_id},o.des_title))}a.setState({designationsItems:t})}))},a.onDepartmentMenuChange=function(e){a.setState({selectedDepartemnt:e.target.value}),a.getDesignationsList(e.target.value),console.log(" Lo G : "+e.target.value)},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.menu=null,a.Des_menu=null,a.state={loading:!0,fimage:"",image:null,divisions:null,designationsItems:null,selectedDepartemnt:null,departs:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.Indexkey?(console.log("keys    ",this.props.Indexkey),this.setBaseInfo()):console.log("Nothing :("),this.getDepartmentList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement(M.a,Object.assign({layout:"vertical"},this.formItemLayout),r.a.createElement(K,{label:"Promotion Order Date"},t("emp_des_order_date",{rules:[{required:!0,message:"Please Provide Your Date of Designation"}]})(r.a.createElement(N.a,{type:"date",name:"designation_date ",id:"designation_date",placeholder:"Date of Designation"}))),r.a.createElement(K,{label:"Appointment Date"},t("emp_des_appointment_date",{rules:[{required:!0,message:"Please Provide Designation date"}]})(r.a.createElement(N.a,{type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Date of Appointment"}))),r.a.createElement(K,{label:"Department Name"},t("department_name",{rules:[{required:!0,message:"Please Provide Department Name"}]})(r.a.createElement("select",{id:"department_name",onChange:this.onDepartmentMenuChange,ref:function(t){return e.menu=t}},r.a.createElement("option",{value:"N/A"},"Select Department"),this.state.divisions))),r.a.createElement(K,{label:"Designation Title"},t("des_title",{rules:[{required:!0,message:"Please Provide Designation Title"}]})(r.a.createElement("select",{id:"designation_scale",ref:function(t){return e.Des_menu=t}},r.a.createElement("option",{value:"N/A"},"Select Department"),this.state.designationsItems))),r.a.createElement(K,{label:"Please Provide Designation Image"},t("des_photo",{rules:[{required:!0,message:"Please Provide Designation Image"}]})(r.a.createElement("input",{type:"file",name:"des_photo",id:"des_photo"}))),r.a.createElement(B.a,{type:"primary",onClick:this.handlerSubmit},"Submit")))}}]),t}(n.Component)),Q=M.a.create()(J),X=a(76),Z=a.n(X);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getDesignationData=function(){fetch("http://localhost:3003/api/employee_designation_details/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({data:e,tabledata:a.getformateData(e),loading:!1})}))},a.getformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.emp_des_id,duration:n.emp_des_appointment_date.substring(0,10),title:n.des_title,scale:n.des_scale,department_name:n.department_name,department_location:n.department_city_name,status:n.emp_des_is_active})}return t},a.showpromoteModal=function(){a.setState({visible_showpromoteModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.hideHandler=function(){a.setState({visible_showpromoteModal:!1,loading:!0,tabledata:null}),a.getDesignationData()},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(N.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,l)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(B.a,{type:"primary",onClick:function(){return a.handleSearch(o,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(B.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(H.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return r.a.createElement(Z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.columns=[ee({title:"Join Date",dataIndex:"duration"},a.getColumnSearchProps("duration")),ee({title:"Title",dataIndex:"title"},a.getColumnSearchProps("title")),ee({title:"Scale",dataIndex:"scale"},a.getColumnSearchProps("scale")),ee({title:"Department Name",dataIndex:"department_name"},a.getColumnSearchProps("department_name")),ee({title:"Department Location",dataIndex:"department_location"},a.getColumnSearchProps("department_location")),{title:"Status",dataIndex:"status",render:function(e,t){return r.a.createElement("span",null,0===t.status?r.a.createElement(G.a,{status:"default",text:"Not Active"}):r.a.createElement(G.a,{status:"processing",text:"Active"}))}},{title:"Actions",dataIndex:"actions",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){a.setState({visible_showpromoteModal:!0,Indexkey:t.key})}},"Edit"))}}],a.state={tabledata:null,loading:!1,visible_showpromoteModal:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDesignationData()}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"p-5"},r.a.createElement(B.a,{type:"primary",size:"large",onClick:this.showpromoteModal},"Give Employee Promotion"),r.a.createElement("div",{className:"pt-3"},r.a.createElement(W.a,{columns:this.columns,dataSource:this.state.tabledata,pagination:!1})),r.a.createElement(Y.a,{title:"Promote Employee",visible:this.state.visible_showpromoteModal,onOk:this.handleOk,destroyOnClose:!0,onCancel:this.handleCancel,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement(Q,{Indexkey:this.state.Indexkey,hideHandler:this.hideHandler,id:this.props.id,data:this.state.data})))))}}]),t}(n.Component),ae=a(168),ne={strong:r.a.createElement("span",{className:"strong"},"Strong"),medium:r.a.createElement("span",{className:"medium"},"Medium"),weak:r.a.createElement("span",{className:"weak"},"Weak")},re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var o=arguments.length,l=new Array(o),i=0;i<o;i++)l[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).getData=function(){return[{title:"password",description:r.a.createElement(n.Fragment,null,'"password-description"\uff1a',ne.strong),actions:[r.a.createElement("a",{key:"Modify"},"Modify")]},{title:"phone",description:"phone-description\uff1a138****8293",actions:[r.a.createElement("a",{key:"Modify"},"Modify")]},{title:"question",description:"question-description",actions:[r.a.createElement("a",{key:"Set"},"Set")]},{title:"email",description:"email-description \uff1aant***sign.com",actions:[r.a.createElement("a",{key:"Modify"},"Modify")]},{title:"mfa",description:"mfa-description",actions:[r.a.createElement("a",{key:"bind"},"Bind")]}]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.getData();return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return r.a.createElement(ae.a.Item,{actions:e.actions},r.a.createElement(ae.a.Item.Meta,{title:e.title,description:e.description}))}}))}}]),t}(n.Component),oe=a(130),le=a(126),ie=a(573),se=a(574),ce=a(575),me=a(576),de=a(577),ue=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onStatusChange=function(e){a.setState({status:e}),console.log("switch to ".concat(e)),a.postStatusData(e)},a.handleSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t=new FormData;t.append("id",a.props.id),t.append("password",a.password.value),v.a.post("http://localhost:3003/api/set_employee_password",t).then((function(e){var t=e.data;console.log(t),a.setState({loading:!1}),t.err||500===t.status?R.showErrorMessage("Sorry, Try again"):200===t.status&&R.showSuccessMessage("Password Changed")})),a.password.value=""},a.postStatusData=function(e){a.setState({loading:!0});var t=new FormData;t.append("id",a.props.id),t.append("status",e),v.a.post("http://localhost:3003/api/set_employee_status",t).then((function(e){var t=e.data;console.log(t),a.setState({loading:!1}),t.err?R.showErrorMessage("Sorry, Try again"):200===t.status&&R.showSuccessMessage("Status Changed")}))},a.getData=function(){a.setState({loading:!0}),fetch("http://localhost:3003/api/get_employee_status/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.warn(e),200===e.status&&(console.warn(e),a.setState({active:1===e.is_active,loading:!1,ploading:!1}))}))},a.state={loading:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(se.a,{row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},!this.state.ploading&&r.a.createElement(oe.a,{loading:this.state.loading,title:"Status ",onChange:this.onStatusChange,checkedChildren:r.a.createElement(H.a,{type:"check"}),unCheckedChildren:r.a.createElement(H.a,{type:"close"})}))),r.a.createElement(se.a,{row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(me.a,{innerRef:function(t){return e.password=t},type:"password",name:"password",id:"password",placeholder:"Enter New password here"}))),r.a.createElement(se.a,{check:!0,row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(de.a,{onClick:this.handleSubmit},"Save")))))}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).getData=function(){var e=r.a.createElement(oe.a,{checkedChildren:"open",unCheckedChildren:"close",defaultChecked:!0});return[{title:"password",description:"password-description",actions:[e]},{title:"messages",description:"messages-description",actions:[e]},{title:"todo",description:"todo-description",actions:[e]}]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.getData();return r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{itemLayout:"horizontal",dataSource:e,renderItem:function(e){return r.a.createElement(ae.a.Item,{actions:e.actions},r.a.createElement(ae.a.Item.Meta,{title:e.title,description:e.description}))}}))}}]),t}(n.Component),he=a(58),fe=(a(533),a(282)),ge=a(592),Ee=a(594),be=a(167),_e=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).data=a.props.address_data,a.getaddressData=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({data:a.getformateData(e),loading:!1})}))},a.getformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.address_id,date:n.last_update_ts.substring(0,10),address:n.current_address+"\n"+n.permanent_address+n.postal_code})}return t},a.columns=[{title:"Move-in Date",dataIndex:"date"},{title:"Home Address",dataIndex:"address"},{title:"Actions",dataIndex:"actions",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){console.log(t.key),a.setState({itemkey:t.key,visible_showAddAddressModal:!0})}},"Edit"))}}],a.showAddAddressModal=function(){a.setState({visible_showAddAddressModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showAddAddressModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showAddAddressModal:!1})},a.hideHandler=function(){a.setState({visible_showAddAddressModal:!1,loading:!0,tabledata:null}),a.getaddressData()},a.state={data:a.getformateData(a.data),loading:!1,visible_showAddAddressModal:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{pagination:!1,columns:this.columns,dataSource:this.state.data,size:"small"}),r.a.createElement(H.a,{onClick:this.showAddAddressModal,type:"plus-circle"})," ","  ",r.a.createElement("span",{className:"pt-5 strong"},"add address"),r.a.createElement(Y.a,{title:"Update Home Address",visible:this.state.visible_showAddAddressModal,onOk:this.handleOk,onCancel:this.handleCancel,width:750,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement("p",null,"This information is used for all HR related tasks, so please make sure it\u2019s accurate."),r.a.createElement(U,{hideHandler:this.hideHandler,id:this.props.id,itemkey:this.state.itemkey,data:this.state.data[0]})))))}}]),t}(n.Component),ye=M.a.Item,ve=(A.a.Option,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.menu=void 0,a.Des_menu=void 0,a.setBaseInfo=function(){var e=a.props,t=e.data,n=e.form;t&&Object.keys(n.getFieldsValue()).forEach((function(e){var a={};a[e]=t[e]||null,n.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handlerSubmit=function(e){L.a.success("update.success"),L.a.success("update.success"),e.preventDefault(),a.props.form.validateFields((function(e){e?L.a.success("Error"):a.getDataOutofForm()}))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("employee_id",a.props.id),t.append("des_id",a.Des_menu.value),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/employee_designation_update",t).then((function(e){200===e.status&&a.props.hideHandler()}))},a.getDepartmentList=function(){var e=[];fetch("http://localhost:3003/api/department_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);for(var n=1;n<=t.length;n++){var o=t[n-1];e.push(r.a.createElement("option",{value:o.department_id},o.department_name))}a.setState({divisions:e})}))},a.getDesignationsList=function(e){var t=[];fetch("http://localhost:3003/api/designation_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=1;n<=e.length;n++){var o=e[n-1];t.push(r.a.createElement("option",{value:o.des_id},o.des_title))}a.setState({designationsItems:t})}))},a.onDepartmentMenuChange=function(e){a.setState({selectedDepartemnt:e.target.value}),a.getDesignationsList(e.target.value),console.log(" Lo G : "+e.target.value)},a.menu=null,a.Des_menu=null,a.state={loading:!0,fimage:"",image:null,divisions:null,designationsItems:null,selectedDepartemnt:null,departs:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setBaseInfo(),this.getDepartmentList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement("div",{className:"left"},r.a.createElement(M.a,{layout:"vertical"},r.a.createElement(ye,{label:"Designation Order Date"},t("emp_des_order_date",{rules:[{required:!0,message:"Please Provide Your Date of Designation"}]})(r.a.createElement(N.a,{type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Provide your Date of Appointment"}))),r.a.createElement(ye,{label:"Designation Appointment Date"},t("emp_des_appointment_date",{rules:[{required:!0,message:"Please Provide Designation date"}]})(r.a.createElement(N.a,{type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Provide your Date of Appointment"}))),r.a.createElement(ye,{label:"Department Name"},t("department_name",{rules:[{required:!0,message:"Please Provide Department Name"}]})(r.a.createElement("select",{id:"department_name",onChange:this.onDepartmentMenuChange,ref:function(t){return e.menu=t}},r.a.createElement("option",{value:"N/A"},"Select Department"),this.state.departs))),r.a.createElement(ye,{label:"Designation Title"},t("des_title",{rules:[{required:!0,message:"Please Provide Designation Title"}]})(r.a.createElement("select",{id:"designation_scale",ref:function(t){return e.Des_menu=t}},r.a.createElement("option",{value:"N/A"},"Select Department"),this.state.designationsItems))),r.a.createElement(B.a,{type:"primary",onClick:this.handlerSubmit},"Update Information"))))}}]),t}(n.Component)),we=M.a.create()(ve),Se=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleEmployeeClicked=function(e){console.log(e),a.setState((function(){return{}}))},a.showEditAddressModal=function(){a.setState({visible_showEditAddressModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showEditAddressModal:!1,visible_showEditDesignationModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showEditAddressModal:!1,visible_showEditDesignationModal:!1})},a.showEditDesignationModal=function(){a.setState({visible_showEditDesignationModal:!0})},a.hideHandler=function(){a.setState({visible_showEditDesignationModal:!1,loading:!0}),a.getDesignationData()},a.getDesignationData=function(){fetch("http://localhost:3003/api/employee_designation_details/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({des_data:e[0],loading:!1})}))};var n=a.props.des_data;return void 0!==n&&void 0!==n.emp_des_order_date&&void 0!==n.emp_des_appointment_date&&(n.emp_des_order_date=n.emp_des_order_date.toString().substring(0,10),n.emp_des_appointment_date=n.emp_des_appointment_date.toString().substring(0,10)),a.state={des_data:n,data:null,loading:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(he.b,null,r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F9F9FB"}},r.a.createElement(F.a,null,r.a.createElement(q.a,{span:20},r.a.createElement(Ee.a,{title:"Employment Details",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Start Date"},this.state.des_data.emp_des_appointment_date.substring(0,10)),r.a.createElement(Ee.a.Item,{label:"Designation Title"},this.state.des_data.des_title),r.a.createElement(Ee.a.Item,{label:"Designation Scale"},this.state.des_data.des_scale),r.a.createElement(Ee.a.Item,{label:"Department Name"},this.state.des_data.department_name),r.a.createElement(Ee.a.Item,{label:"Department Location"},"Quetta"))),r.a.createElement(q.a,{span:4},r.a.createElement(H.a,{style:{fontSize:30},onClick:this.showEditDesignationModal,type:"edit",theme:"twoTone",title:"Edit Basics of Employee"}))),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(F.a,null,r.a.createElement(q.a,{span:20},r.a.createElement(Ee.a,{title:"Work Address",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Current Address"},"912 Silver St., Suite 1966"),r.a.createElement(Ee.a.Item,{label:"Postal Code"},"94107"),r.a.createElement(Ee.a.Item,{label:"City"},"Quetta"),r.a.createElement(Ee.a.Item,{label:"Phone 1"},"416-000-0000"),r.a.createElement(Ee.a.Item,{label:"Phone 2"},"416-000-0000"))),r.a.createElement(q.a,{span:4},r.a.createElement(H.a,{style:{fontSize:30},onClick:this.showEditAddressModal,type:"menu",title:"Manage Employee address"}))),r.a.createElement(be.a,{style:{marginBottom:32}}))),r.a.createElement(Y.a,{title:"Edit Employment Details",visible:this.state.visible_showEditDesignationModal,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},width:550,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement(we,{hideHandler:this.hideHandler,id:this.props.id,data:this.state.des_data})),r.a.createElement(Y.a,{title:"Home Address History",visible:this.state.visible_showEditAddressModal,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},width:850,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement("p",null,"This is a list of all of current and previous addresses of Employee"),r.a.createElement(_e,{id:this.props.id,address_data:this.props.address_data})))))}}]),t}(n.Component),De=a(586),Ce=M.a.Item,Oe=A.a.Option,je=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.setBaseInfo=function(){var e=a.props,t=e.data,n=e.form;t&&Object.keys(n.getFieldsValue()).forEach((function(e){var a={};a[e]=t[e]||null,n.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e){e?R.showErrorMessage("Error",5):a.getDataOutofForm()}))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("employee_id",a.props.id),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/one_employee_update",t).then((function(e){200===e.status&&R.showSuccessMessage("Updated Successfully",5)}))},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.state={loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setBaseInfo()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement(M.a,this.formItemLayout,r.a.createElement(Ce,{label:"CNIC"},e("cnic",{rules:[{required:!0,message:"Please Provide Your CNIC"}]})(r.a.createElement(N.a,{type:"number"}))),r.a.createElement(Ce,{label:"Full Name"},e("full_name",{rules:[{required:!0,message:"Please Provide Your Name"}]})(r.a.createElement(N.a,null))),r.a.createElement(Ce,{label:"Father Name"},e("father_name",{rules:[{required:!0,message:"Please Provide Your Father Name"}]})(r.a.createElement(N.a,null))),r.a.createElement(Ce,{label:"Date of Appointment"},e("appointment_date",{rules:[{required:!0,message:"Please Provide Your Date of Appointment"}]})(r.a.createElement(N.a,{type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Provide your Date of Appointment"}))),r.a.createElement(Ce,{label:"Date of Birth"},e("birth_date",{rules:[{required:!0,message:"Please Provide Your Date of Birth"}]})(r.a.createElement(N.a,{type:"date",name:"birth_date ",id:"birth_date",placeholder:"Provide your Date of Birth"}))),r.a.createElement(Ce,{label:"Email"},e("email",{rules:[{required:!0,message:"Please Provide Your email"}]})(r.a.createElement(N.a,null))),r.a.createElement(Ce,{label:"gender"},e("gender",{rules:[{required:!0,message:"Gender not selected"}]})(r.a.createElement(A.a,{defaultValue:"male"},r.a.createElement(Oe,{value:"male"},"Male"),r.a.createElement(Oe,{value:"female"},"Female")))),r.a.createElement(M.a.Item,this.tailFormItemLayout,r.a.createElement(B.a,{type:"primary",onClick:this.handleSubmit},"Update Information"))))}}]),t}(n.Component),ke=M.a.create()(je),Ie=(De.a.Text,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showEditBasicModal=function(){a.setState({visible_showEditBasicModal:!0})},a.showEditAddressModal=function(){a.setState({visible_showEditAddressModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showEditBasicModal:!1,visible_showEditAddressModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showEditBasicModal:!1,visible_showEditAddressModal:!1})},a.getBasicData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.warn(e[0]);var t=e[0];t.appointment_date=t.appointment_date.toString().substring(0,10),t.birth_date=t.birth_date.toString().substring(0,10),a.setState({data:t}),a.getaddressData()}))},a.getaddressData=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.warn(e[0]);var t=e[0];void 0!==t&&void 0!==t.city_id&&(t.city_id="Quetta"),a.setState({address_data:t,loading:!1})}))},a.state={data:null,loading:!0,confirmLoading:!0,visible_showEditBasicModal:!1,visible_showEditAddressModal:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getBasicData()}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(he.b,null,r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F9F9FB"}},r.a.createElement(F.a,null,r.a.createElement(q.a,{span:20},r.a.createElement(Ee.a,{title:"Basics",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Full Name"},this.state.data.full_name),r.a.createElement(Ee.a.Item,{label:"Father Name"},this.state.data.father_name)," ",r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"CNIC Number"},this.state.data.cnic),r.a.createElement(Ee.a.Item,{label:"Email"},this.state.data.email),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Birthday"},this.state.data.birth_date),r.a.createElement(Ee.a.Item,{label:"Service Join Date"},this.state.data.appointment_date),r.a.createElement(Ee.a.Item,{label:"Gender"},this.state.data.gender))),r.a.createElement(q.a,{span:4},r.a.createElement(H.a,{style:{fontSize:30},onClick:this.showEditBasicModal,type:"edit",theme:"twoTone",title:"Edit Basics of Employee"}))),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(F.a,null,r.a.createElement(q.a,{span:20},r.a.createElement(Ee.a,{title:"Home Address",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Current Address"},this.state.address_data.current_address),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Permanent Address"},this.state.address_data.permanent_address),r.a.createElement(Ee.a.Item,{label:"Postal Code"},this.state.address_data.postal_code),r.a.createElement(Ee.a.Item,{label:"City"},"Quetta"),r.a.createElement(Ee.a.Item,{label:"Phone 1"},this.state.address_data.phone_number),r.a.createElement(Ee.a.Item,{label:"Phone 2"},""!==this.state.address_data.phone_number2?this.state.address_data.phone_number2:"None"))),r.a.createElement(q.a,{span:4},r.a.createElement(H.a,{style:{fontSize:30},onClick:this.showEditAddressModal,type:"menu",title:"Manage Employee address"}))),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(Ee.a,{title:"Emergency Contact",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Full Name"},"Amir khan"),r.a.createElement(Ee.a.Item,{label:"Relationship"},"Friend"),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Phone Number 1"},"923337906856"),r.a.createElement(Ee.a.Item,{label:"Phone Number 2"},"923337906856"),r.a.createElement(Ee.a.Item,{label:"Email"},"Amir@gmail.com")),r.a.createElement(be.a,{style:{marginBottom:32}}))),r.a.createElement(Y.a,{title:"Basics",visible:this.state.visible_showEditBasicModal,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement("p",null,"This information is used for all HR related tasks, so please make sure it\u2019s accurate."),r.a.createElement(ke,{id:this.props.id,data:this.state.data})),r.a.createElement(Y.a,{title:"Home Address History",visible:this.state.visible_showEditAddressModal,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},width:850,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement("p",null,"This is a list of all of ".concat(this.state.data.full_name,"\u2019s, current and previous addresses. .")),r.a.createElement(_e,{id:this.props.id,address_data:this.props.address_data})))))}}]),t}(n.Component)),xe=a(71),Pe=M.a.Item,Fe=(A.a.Option,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.menu=void 0,a.setBaseInfo=function(){var e=a.props,t=e.data,n=e.form;t&&Object.keys(n.getFieldsValue()).forEach((function(e){var a={};a[e]=t[e]||null,n.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e?L.a.error("Invalid inputs"):a.getDataOutofForm()}))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("employee_id",a.props.id),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/add_emoployee_training",t).then((function(e){200==e.status?(L.a.success("Updated Successfully",5),L.a.success("Updated Successfully",5),a.props.hideHandler()):500==e.status&&(L.a.error("Error",5),L.a.error("Error",5))}))},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.menu=null,a.state={loading:!0,fimage:"",image:null,divisions:null,designationsItems:null,selectedDepartemnt:null,departs:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setBaseInfo()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement(M.a,Object.assign({layout:"vertical"},this.formItemLayout),r.a.createElement(Pe,{label:"Name"},e("train_name",{rules:[{required:!0,min:5,message:"Name not valid (min 5)"}]})(r.a.createElement(N.a,null))),r.a.createElement(Pe,{label:"Descrition"},e("train_description",{rules:[{required:!0,min:10,message:"Descrition not valid (min 10)"}]})(r.a.createElement(xe.a,{rows:4}))),r.a.createElement(Pe,{label:"Start Date"},e("train_start_date",{rules:[{required:!0,message:"Please Provide Start Date of Training"}]})(r.a.createElement("input",{type:"date",name:"train_start_date ",id:"train_start_date",placeholder:"Training Start Date"}))),r.a.createElement(Pe,{label:"End Date"},e("train_end_date",{rules:[{required:!0,message:"Please Provide End Date of Designation"}]})(r.a.createElement("input",{type:"date",name:"train_end_date ",id:"train_end_date",placeholder:"Training End Date"}))),r.a.createElement(Pe,{label:"Location Name"},e("train_location_name",{rules:[{required:!0,min:3,message:"Location Name not valid (min 3)"}]})(r.a.createElement(N.a,null))),r.a.createElement(B.a,{type:"primary",onClick:this.handlerSubmit},"Submit")))}}]),t}(n.Component)),Te=M.a.create()(Fe);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ne=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getDesignationData=function(){fetch("http://localhost:3003/api/training_list/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({tabledata:a.getformateData(e),loading:!1})}))},a.getformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.training_id,Name:n.train_name.substring(0,10),Description:n.train_description,Start:n.train_start_date.substring(0,10),End:n.train_end_date.substring(0,10),Location:n.train_location_name})}return t},a.showpromoteModal=function(){a.setState({visible_showpromoteModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.hideHandler=function(){a.setState({visible_showpromoteModal:!1,loading:!0,tabledata:null}),a.getDesignationData()},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(N.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,l)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(B.a,{type:"primary",onClick:function(){return a.handleSearch(o,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(B.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(H.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return r.a.createElement(Z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.columns=[Ae({title:"Name",dataIndex:"Name"},a.getColumnSearchProps("Name")),Ae({title:"Description",dataIndex:"Description"},a.getColumnSearchProps("Description")),Ae({title:"Start",dataIndex:"Start"},a.getColumnSearchProps("Start")),Ae({title:"End",dataIndex:"End"},a.getColumnSearchProps("End")),Ae({title:"Location",dataIndex:"Location"},a.getColumnSearchProps("department_location")),{title:"Actions",dataIndex:"actions",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){a.setState({visible_showpromoteModal:!0,key:t.key})}},"Edit"))}}],a.state={tabledata:null,loading:!1,visible_showpromoteModal:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDesignationData()}}]),Object(u.a)(t,[{key:"render",value:function(){De.a.Text,this.props.data;return r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"p-5"},r.a.createElement(B.a,{type:"primary",size:"large",onClick:this.showpromoteModal},"Add Employee Training"),r.a.createElement("div",{className:"pt-3"},r.a.createElement(W.a,{columns:this.columns,dataSource:this.state.tabledata,pagination:!1})),r.a.createElement(Y.a,{title:"Promote Employee",visible:this.state.visible_showpromoteModal,onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement(Te,{hideHandler:this.hideHandler,id:this.props.id,data:this.state.tabledata})))))}}]),t}(n.Component),Be=a(583),Le=M.a.Item,Re=A.a.Option,Ve=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).view=void 0,a.menu=void 0,a.getDivisionList=function(){var e=[];fetch("http://localhost:3003/api/division_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("getDepartmentList is here: ",t);for(var n=1;n<=t.length;n++){var o=t[n-1];console.log(o.div_id,"department.department_id: ",o.div_title),e.push(r.a.createElement(Re,{value:o.div_id},o.div_title))}a.setState({divisions:e})}))},a.setBaseInfo=function(){var e=a.props,t=e.data,n=e.form;t&&Object.keys(n.getFieldsValue()).forEach((function(e){var a={};a[e]=t[e]||null,n.setFieldsValue(a)}))},a.getViewDom=function(e){a.view=e},a.handlerSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e?L.a.error("Invalid inputs"):a.getDataOutofForm()}))},a.onDivisionValueSelected=function(e){console.log(" Lo G : ",e),a.getSubDivisionsList(e)},a.onSubDivisionValueSelected=function(e){console.log(" onSubDivisionValueSelected  : ",e),a.getTubwellsList(e)},a.getTubwellsList=function(e){var t=[];fetch("http://localhost:3003/api/tubwells_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=1;n<=e.length;n++){var o=e[n-1];t.push(r.a.createElement(Re,{value:o.tubewell_id},o.tubewell_name))}a.setState({tubwell_Items:t})}))},a.getSubDivisionsList=function(e){var t=[];fetch("http://localhost:3003/api/sub_division_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=1;n<=e.length;n++){var o=e[n-1];t.push(r.a.createElement(Re,{value:o.sd_id},o.sub_div_name))}a.setState({sub_Div_Items:t})}))},a.disabledStartDate=function(e){var t=a.state.joining_Date;return!(!e||!t)&&e.valueOf()>t.valueOf()},a.disabledEndDate=function(e){var t=a.state.transfer_Date;return!(!e||!t)&&e.valueOf()<=t.valueOf()},a.transfer_Date_Change=function(e){a.onChange("transfer_Date",e)},a.joining_Date_Change=function(e){a.onChange("joining_Date",e)},a.onChange=function(e,t){a.setState(Object(i.a)({},e,t))},a.getDataOutofForm=function(){var e=a.props.form;console.log(e.getFieldsValue());var t=new FormData;t.append("employee_id",a.props.id),t.append("image",a.state.image,a.state.image.name),Object.keys(e.getFieldsValue()).forEach((function(a,n,r){console.log(a,e.getFieldValue(a)),t.append(a,e.getFieldValue(a))})),v.a.post("http://localhost:3003/api/transfer_emoployee",t).then((function(e){200==e.status&&(L.a.success("Updated Successfully",5),L.a.success("Updated Successfully",5),a.props.hideHandler())}))},a.onImageDataChange=function(e){var t=e.target.files;a.setState({image:t[0]})},a.formItemLayout={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},a.tailFormItemLayout={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a.menu=null,a.state={loading:!0,fimage:"",image:null,divisions:null,sub_Div_Items:null,tubwell_Items:null,departs:null,transfer_Date:null,joining_Date:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setBaseInfo(),this.getDivisionList()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"baseView",ref:this.getViewDom},r.a.createElement(M.a,Object.assign({layout:"vertical"},this.formItemLayout),r.a.createElement(Le,{label:"Division"},e("Division",{rules:[{required:!0,message:"Division not selected"}]})(r.a.createElement(A.a,{onChange:this.onDivisionValueSelected},this.state.divisions))),r.a.createElement(Le,{label:"Sub Division"},e("Sub_Division",{rules:[{required:!0,message:"SubDivision not selected"}]})(r.a.createElement(A.a,{onChange:this.onSubDivisionValueSelected},this.state.sub_Div_Items))),r.a.createElement(Le,{label:"Tubewell Name"},e("tubewell_id",{rules:[{required:!0,message:"Tubewell not selected"}]})(r.a.createElement(A.a,null,this.state.tubwell_Items))),r.a.createElement(Le,{label:"transfer Date"},e("transfer_Date",{rules:[{required:!0,message:"Please Provide Transfer Date"}]})(r.a.createElement(Be.a,{format:"YYYY-MM-DD",disabledDate:this.disabledStartDate,onChange:this.transfer_Date_Change,placeholder:"Provide Transfer Date"}))),r.a.createElement(Le,{label:"joining Date"},e("joining_Date",{rules:[{required:!0,message:"Please Provide Joining Date"}]})(r.a.createElement(Be.a,{format:"YYYY-MM-DD",disabledDate:this.disabledEndDate,onChange:this.joining_Date_Change,placeholder:"Provide Joining Date"}))),r.a.createElement(Le,{label:"Descrition"},e("description",{rules:[{required:!0,min:10,message:"Descrition not valid (min 10)"}]})(r.a.createElement(xe.a,{rows:4}))),r.a.createElement(Le,{label:"Order Letter"},e("order_letter_photo",{rules:[{required:!0,message:"please provide order letter photo"}]})(r.a.createElement(N.a,{onChange:this.onImageDataChange,type:"file",placeholder:"order_letter_photo"}))),r.a.createElement(B.a,{type:"primary",onClick:this.handlerSubmit},"Submit")))}}]),t}(n.Component),ze=M.a.create()(Ve);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getTransferData=function(){fetch("http://localhost:3003/api/employee_transfer_details/".concat(a.props.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({tabledata:a.getformateData(e),loading:!1})}))},a.getformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.transfer_id,Transfer_Date:n.transfer_date.substring(0,10),Joining_Date:n.joining_date.substring(0,10),Description:n.description,Division:n.division,Sub_Division:n.sub_division,Tubewell:n.tubewell_id,status:n.is_active})}return t},a.showpromoteModal=function(){a.setState({visible_showpromoteModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.hideHandler=function(){a.setState({visible_showpromoteModal:!1,loading:!0,tabledata:null}),a.getTransferData()},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(N.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,l)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(B.a,{type:"primary",onClick:function(){return a.handleSearch(o,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(B.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(H.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.columns=[He({title:"Transfer Date",dataIndex:"Transfer_Date"},a.getColumnSearchProps("Transfer_Date")),He({title:"Joining Date",dataIndex:"Joining_Date"},a.getColumnSearchProps("Joining_Date")),He({title:"Description ",dataIndex:"Description"},a.getColumnSearchProps("Description")),He({title:"Division",dataIndex:"Division"},a.getColumnSearchProps("Division")),He({title:"Sub Division",dataIndex:"Sub_Division"},a.getColumnSearchProps("Sub_Division")),He({title:"Tubewell",dataIndex:"Tubewell"},a.getColumnSearchProps("Tubewell")),{title:"Status",dataIndex:"status",render:function(e,t){return r.a.createElement("span",null,0===t.status?r.a.createElement(G.a,{status:"default",text:"Not Active"}):r.a.createElement(G.a,{status:"processing",text:"Active"}))}},{title:"Actions",dataIndex:"actions",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){a.setState({visible_showpromoteModal:!0,key:t.key})}},"Edit"))}}],a.state={tabledata:null,loading:!1,visible_showpromoteModal:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getTransferData()}}]),Object(u.a)(t,[{key:"render",value:function(){De.a.Text,this.props.data;return r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"p-5"},r.a.createElement(B.a,{type:"primary",size:"large",onClick:this.showpromoteModal},"Transfer Current Employee"),r.a.createElement("div",{className:"pt-3"},r.a.createElement(W.a,{columns:this.columns,dataSource:this.state.tabledata,pagination:!1})),r.a.createElement(Y.a,{destroyOnClose:!0,title:"Promote Employee",visible:this.state.visible_showpromoteModal,onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close")]},r.a.createElement(ze,{hideHandler:this.hideHandler,id:this.props.id,data:this.state.tabledata})))))}}]),t}(n.Component),qe=P.a.Item,We=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).main=void 0,a.id=a.props.match.params.id,a.getData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.warn(e[0]);var t=e[0];t.appointment_date=t.appointment_date.toString().substring(0,10),t.birth_date=t.birth_date.toString().substring(0,10),a.setState({data:t}),a.getaddressData()}))},a.getaddressData=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e;a.setState({address_data:t}),a.getDesignationData()}))},a.getDesignationData=function(){fetch("http://localhost:3003/api/employee_designation_details/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({des_data:e,loading:!1})}))},a.getMenu=function(){var e=a.state.menuMap;return Object.keys(e).map((function(t){return r.a.createElement(qe,{key:t},e[t])}))},a.getRightTitle=function(){var e=a.state,t=e.selectKey;return e.menuMap[t]},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a.selectKey=function(e){a.setState({selectKey:e})},a.resize=function(){a.main&&requestAnimationFrame((function(){if(a.main){var e="horizontal",t=a.main.offsetWidth;a.main.offsetWidth<641&&t>400&&(e="horizontal"),window.innerWidth<768&&t>400&&(e="horizontal"),a.setState({mode:e})}}))},a.tablecolumns=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",null,e)}},{title:"Description",dataIndex:"Description",key:"Description"},{title:"Address",dataIndex:"address",key:"address"},{title:"Start Date",key:"StartDate",dataIndex:"StartDate"},{title:"End Date",key:"EndDate",dataIndex:"StartDate"}],a.tabledata=[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]}],a.renderChildren=function(){switch(a.state.selectKey){case"job":return r.a.createElement(Se,{id:a.id,data:a.state.data,address_data:a.state.address_data,des_data:a.state.des_data[0]});case"Personal":return r.a.createElement(Ie,{id:a.id,data:a.state.data,address_data:a.state.address_data});case"training":return r.a.createElement(Ne,{id:a.id});case"promotion":return r.a.createElement(te,{selectKey:a.selectKey,id:a.id,data:a.state.des_data});case"transfer":return r.a.createElement(Ge,{id:a.id});case"security":return r.a.createElement(re,null);case"binding":return r.a.createElement(ue,{id:a.id});case"notification":return r.a.createElement(pe,null)}return null};return a.state={mode:"inline",menuMap:{job:"Job",Personal:"Personal",promotion:"Promotion",training:"Trainings",transfer:"Transfer",binding:"Account Settings",notification:"Notifications"},selectKey:"job",collapsed:!1,loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData(),window.addEventListener("resize",this.resize),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.selectKey;return r.a.createElement(le.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"main",ref:function(t){t&&(e.main=t)}},this.state.loading?"":r.a.createElement(F.a,null,r.a.createElement(T.a,{size:100,src:"http://localhost:3003/".concat(this.state.data.employee_photo)}),r.a.createElement(fe.a,{className:"small text-md-center p-3"}," ",this.state.data.full_name," ")),r.a.createElement("div",{className:"leftMenu"},r.a.createElement(P.a,{mode:a,selectedKeys:[n],onClick:function(t){var a=t.key;return e.selectKey(a)}},this.getMenu())),r.a.createElement("div",{className:"right"},this.state.loading?"":this.renderChildren()))))}}]),t}(r.a.Component);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Je=r.a.createElement("linearGradient",{id:"XdSWwybs8pmxHV8CE18rna",x1:24,x2:24,y1:11,y2:58.807,gradientUnits:"userSpaceOnUse",spreadMethod:"reflect"},r.a.createElement("stop",{offset:0,stopColor:"#1a6dff"}),r.a.createElement("stop",{offset:1,stopColor:"#c822ff"})),Qe=r.a.createElement("path",{fill:"url(#XdSWwybs8pmxHV8CE18rna)",d:"M24,57c-9.925,0-18-8.075-18-18c0-11.03,15.896-26,18-26s18,14.97,18,26 C42,48.925,33.925,57,24,57z M24,15.114C21.534,16.773,8,29.153,8,39c0,8.822,7.178,16,16,16s16-7.178,16-16 C40,29.153,26.466,16.773,24,15.114z"}),Xe=r.a.createElement("linearGradient",{id:"XdSWwybs8pmxHV8CE18rnb",x1:30,x2:30,y1:37.333,y2:51.333,gradientUnits:"userSpaceOnUse",spreadMethod:"reflect"},r.a.createElement("stop",{offset:0,stopColor:"#6dc7ff"}),r.a.createElement("stop",{offset:1,stopColor:"#e6abff"})),Ze=r.a.createElement("path",{fill:"url(#XdSWwybs8pmxHV8CE18rnb)",d:"M36,39c0,6.627-5.373,12-12,12V39H36z"}),$e=r.a.createElement("linearGradient",{id:"XdSWwybs8pmxHV8CE18rnc",x1:50,x2:50,y1:5.333,y2:28.42,gradientUnits:"userSpaceOnUse",spreadMethod:"reflect"},r.a.createElement("stop",{offset:0,stopColor:"#1a6dff"}),r.a.createElement("stop",{offset:1,stopColor:"#c822ff"})),et=r.a.createElement("path",{fill:"url(#XdSWwybs8pmxHV8CE18rnc)",d:"M50,26c-4.411,0-8-3.589-8-8c0-5.408,6.31-11,8-11s8,5.592,8,11C58,22.411,54.411,26,50,26z M50,9.037c-1.262,0.59-6,4.92-6,8.963c0,3.309,2.691,6,6,6s6-2.691,6-6C56,13.957,51.262,9.627,50,9.037z"}),tt=r.a.createElement("linearGradient",{id:"XdSWwybs8pmxHV8CE18rnd",x1:50,x2:50,y1:12.667,y2:22.689,gradientUnits:"userSpaceOnUse",spreadMethod:"reflect"},r.a.createElement("stop",{offset:0,stopColor:"#6dc7ff"}),r.a.createElement("stop",{offset:1,stopColor:"#e6abff"})),at=r.a.createElement("path",{fill:"url(#XdSWwybs8pmxHV8CE18rnd)",d:"M50 14A4 4 0 1 0 50 22A4 4 0 1 0 50 14Z"}),nt=function(e){var t=e.svgRef,a=e.title,n=Ke(e,["svgRef","title"]);return r.a.createElement("svg",Ye({viewBox:"0 0 64 64",ref:t},n),a?r.a.createElement("title",null,a):null,Je,Qe,Xe,Ze,$e,et,tt,at)},rt=r.a.forwardRef((function(e,t){return r.a.createElement(nt,Ye({svgRef:t},e))})),ot=(a.p,function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.authenticatedUser;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bounds"},r.a.createElement(H.a,{className:"Slidertrigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.props.toggle}),r.a.createElement("nav",null,e?r.a.createElement(r.a.Fragment,null,!e.user_cnic&&r.a.createElement(T.a,{size:45,src:"http://localhost:3003/".concat(e.employee_photo)}),e.user_cnic?r.a.createElement("span",null,"Welcome, ",e.user_name,"!"):r.a.createElement("span",null,"Welcome, ",e.full_name,"!"),r.a.createElement(I.b,{to:"/signout"},"Sign Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.b,{className:"signup",to:"/signup"},"Sign Up"),r.a.createElement(I.b,{className:"signin",to:"/signin"},"Sign In")))))}}]),t}(r.a.PureComponent)),lt=a(591),it=function(){return r.a.createElement(lt.a,{status:"404",title:"404",subTitle:"Page Not Found",extra:r.a.createElement(B.a,{type:"primary"},r.a.createElement(I.b,{to:"/"},"Back Home"))})},st=a(267),ct=function(e){var t=e.cancel,a=e.errors,n=e.submit,o=e.submitButtonText,l=e.elements;return r.a.createElement("div",null,r.a.createElement(mt,{errors:a}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n()}},l(),r.a.createElement("div",{className:"pad-bottom"},r.a.createElement("button",{className:"button",type:"submit"},o),r.a.createElement("button",{className:"button button-secondary",onClick:function(e){e.preventDefault(),t()}},"Cancel"))))};function mt(e){var t=e.errors,a=null;return t.length&&(a=r.a.createElement("div",null,r.a.createElement("h2",{className:"validation--errors--label"},"Validation errors"),r.a.createElement("div",{className:"validation-errors"},r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))),a}var dt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={account_number:"",user_cnic:"",user_name:"",user_email:"",user_password:"",user_address:"",user_contact:"",user_cnic_front_image:"",user_cnic_back_image:"",user_wasa_bill_image:"",errors:[]},a.onFrontIDImageChange=function(e){var t=e.target.files;a.setState({user_cnic_front_image:t[0]})},a.onBackIDImageChange=function(e){var t=e.target.files;a.setState({user_cnic_back_image:t[0]})},a.onWasabillImageChange=function(e){var t=e.target.files;a.setState({user_wasa_bill_image:t[0]})},a.change=function(e){var t=e.target.name,n=e.target.value;a.setState((function(){return Object(i.a)({},t,n)}))},a.submit=function(){var e=a.props.context,t=a.state,n={account_number:t.account_number,user_cnic:t.user_cnic,user_name:t.user_name,user_email:t.user_email,user_password:t.user_password,user_address:t.user_address,user_contact:t.user_contact,user_cnic_front_image:t.user_cnic_front_image,user_cnic_back_image:t.user_cnic_back_image,user_wasa_bill_image:t.user_wasa_bill_image},r=null;if(Object.entries(n).forEach((function(e){var t=Object(st.a)(e,2),a=t[0];t[1]||(R.showErrorMessage("provide value of"+a,5),r="err")})),null===r){console.log(n);var o=new FormData;o.append("account_number",n.account_number),o.append("user_cnic",n.user_cnic),o.append("user_name",n.user_name),o.append("user_email",n.user_email),o.append("user_password",n.user_password),o.append("user_address",n.user_address),o.append("user_contact",n.user_contact),o.append("user_cnic_front_image",n.user_cnic_front_image,n.user_cnic_front_image),o.append("user_cnic_back_image",n.user_cnic_back_image,n.user_cnic_back_image),o.append("user_wasa_bill_image",n.user_wasa_bill_image,n.user_wasa_bill_image),v.a.post("http://localhost:3003/api/create_consumer",o).then((function(t){if(console.log("hi htere",t.data.status),201===t.data.status)R.showSuccessMessage("Register Successfully"),e.actions.consumerSignIn(n.user_cnic,n.user_password).then((function(){a.props.history.push("/complain_dashboard")}));else{if(400===t.data.status)return t.data.json().then((function(e){a.setState({errors:e.errors})}));a.props.history.push("/error")}}))}},a.cancel=function(){a.props.history.push("/")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.account_number,n=t.user_cnic,o=t.user_name,l=t.user_email,i=t.user_password,s=t.user_address,c=t.user_contact,m=(t.user_cnic_front_image,t.user_cnic_back_image,t.user_wasa_bill_image,t.errors);return r.a.createElement("div",null,r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"Consumer Sign Up"),r.a.createElement(ct,{cancel:this.cancel,errors:m,submit:this.submit,submitButtonText:"Sign Up",elements:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"account_number",name:"account_number",type:"text",value:a,onChange:e.change,placeholder:"account_number"}),r.a.createElement("input",{id:"user_cnic",name:"user_cnic",type:"number",value:n,onChange:e.change,placeholder:"user_cnic"}),r.a.createElement("input",{id:"user_name",name:"user_name",type:"text",value:o,onChange:e.change,placeholder:"user_name"}),r.a.createElement("input",{id:"user_email",name:"user_email",type:"email",value:l,onChange:e.change,placeholder:"user_email"}),r.a.createElement("input",{id:"user_password",name:"user_password",type:"password",value:i,onChange:e.change,placeholder:"User Password"}),r.a.createElement("input",{id:"user_address",name:"user_address",type:"text",value:s,onChange:e.change,placeholder:"User Address"}),r.a.createElement("input",{id:"user_contact",name:"user_contact",type:"number",value:c,onChange:e.change,placeholder:"User Contact"}),r.a.createElement("input",{onChange:e.onFrontIDImageChange,id:"user_cnic_front_image",name:"user_cnic_front_image",type:"file",placeholder:"User cnic front image"}),r.a.createElement("input",{onChange:e.onBackIDImageChange,id:"user_cnic_back_image",name:"user_cnic_back_image",type:"file",placeholder:"User cnic back image"}),r.a.createElement("input",{onChange:e.onWasabillImageChange,id:"user_wasa_bill_image",name:"user_wasa_bill_image",type:"file",placeholder:"User Wasa bil image"}))}}),r.a.createElement("p",null,"Already have a user account? ",r.a.createElement(I.b,{to:"/signin"},"Click here")," to sign in!")))}}]),t}(n.Component),ut=a(162),pt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",role:"admin",errors:[]},a.change=function(e){var t=e.target.name,n=e.target.value;a.setState((function(){return Object(i.a)({},t,n)}))},a.submit=function(){var e=a.props.context,t=(a.props.location.state||{from:{pathname:"/authenticated"}}).from,n=a.state,r=n.username,o=n.password,l=n.role;"consumer"===l?e.actions.consumerSignIn(r,o).then((function(){a.props.history.push("/complain_dashboard")})):e.actions.signIn(r,o,l).then((function(e){null===e?a.setState((function(){return{errors:["Sign-in was unsuccessful"]}})):a.props.history.push(t)})).catch((function(e){console.error(e),a.props.history.push("/error")}))},a.cancel=function(){a.props.history.push("/")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=t.errors;return r.a.createElement("div",null,r.a.createElement("div",{className:"grid-33 centered signin"},r.a.createElement("h1",null,"Sign In"),r.a.createElement(ct,{cancel:this.cancel,errors:o,submit:this.submit,submitButtonText:"Sign In",elements:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center mb-3 "},r.a.createElement(ut.a.Group,{name:"role",buttonStyle:"solid",size:"large",onChange:e.change,defaultValue:"admin"},r.a.createElement(ut.a.Button,{value:"admin"},"Admin"),r.a.createElement(ut.a.Button,{value:"employee"},"Employee"),r.a.createElement(ut.a.Button,{value:"consumer"},"Consumer"))),r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{className:"mb-3",id:"username",name:"username",type:"text",value:a,onChange:e.change,placeholder:"Email"}),r.a.createElement("input",{id:"password",name:"password",type:"password",value:n,onChange:e.change,placeholder:"Password"})))}}),r.a.createElement("p",null,"Are you Wasa consumer but Don't have a user account? ",r.a.createElement(I.b,{to:"/signup"},"Click here")," to sign up! Now")))}}]),t}(n.Component),ht=a(214),ft=function(e){var t=e.component,a=Object(ht.a)(e,["component"]);return r.a.createElement(j,null,(function(e){return r.a.createElement(x.b,Object.assign({},a,{render:function(a){return e.authenticatedUser?r.a.createElement(t,a):r.a.createElement(x.a,{to:{pathname:"/signin",state:{from:a.location}}})}}))}))},gt=a(53),Et=a(160),bt={labels:["Resolved","Pending","New"],datasets:[{data:[3,1,2],backgroundColor:["#36A2EB","#4CC972","#FFCE56"],hoverBackgroundColor:["#36A2EB","#4CC972","#FFCE56"]}]},_t=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).displayName="PieExample",a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Et.b,{data:bt}))}}]),t}(r.a.Component),yt={labels:["12","13","14","15","16","17","18"],datasets:[{label:"weekly Complaints",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"jet",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[6,2,7.5,2,5,1,6]}]},vt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).displayName="LineExample",a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Et.a,{data:yt}))}}]),t}(r.a.Component),wt=gt.Guide.Text,St=[{gender:"Water Supplied",path:"M381.759 0h292l-.64 295.328-100.127-100.096-94.368 94.368C499.808 326.848 512 369.824 512 415.712c0 141.376-114.56 256-256 256-141.376 0-256-114.624-256-256s114.624-256 256-256c48.8 0 94.272 13.92 133.12 37.632l93.376-94.592L381.76 0zM128.032 415.744c0 70.688 57.312 128 128 128s128-57.312 128-128-57.312-128-128-128-128 57.312-128 128z",value:50},{gender:"Water Produced",path:"M381.759 0h292l-.64 295.328-100.127-100.096-94.368 94.368C499.808 326.848 512 369.824 512 415.712c0 141.376-114.56 256-256 256-141.376 0-256-114.624-256-256s114.624-256 256-256c48.8 0 94.272 13.92 133.12 37.632l93.376-94.592L381.76 0zM128.032 415.744c0 70.688 57.312 128 128 128s128-57.312 128-128-57.312-128-128-128-128 57.312-128 128z",value:25}],Dt={value:{min:0,max:100}},Ct=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(gt.Chart,{data:St,scale:Dt,forceFit:!0},r.a.createElement(gt.Tooltip,null),r.a.createElement(gt.Geom,{type:"interval",position:"gender*value",color:"gender",shape:"liquid-fill-gauge",style:{lineWidth:10,opacity:.75}}),r.a.createElement(gt.Guide,null,St.map((function(e){return r.a.createElement(wt,{content:"".concat(e.value,"%"),top:!0,position:{gender:e.gender,value:50},style:{opacity:.75,fontSize:window.innerWidth/35,textAlign:"center"}})}))))}}]),t}(r.a.Component),Ot=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).data=[{genre:"Resolved",sold:3},{genre:"Pending",sold:1},{genre:"New",sold:2}],a.cols={sold:{alias:"count"},genre:{alias:"status"}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.authenticatedUser;return e?e&&e.user_name?r.a.createElement(x.a,{to:"/complain_dashboard"}):r.a.createElement(he.a,null,r.a.createElement("h3",null,"Complaints Status"),r.a.createElement(F.a,{gutter:24,type:"flex",style:{marginTop:24}},r.a.createElement(q.a,{xl:12,lg:24,md:24,sm:24,xs:24},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(gt.Chart,{width:600,height:400,data:this.data,scale:this.cols},r.a.createElement(gt.Axis,{name:"genre",title:!0}),r.a.createElement(gt.Axis,{name:"sold",title:!0}),r.a.createElement(gt.Legend,{position:"top",dy:-20}),r.a.createElement(gt.Tooltip,null),r.a.createElement(gt.Geom,{type:"interval",position:"genre*sold",color:"genre"})))),r.a.createElement(q.a,{xl:12,lg:24,md:24,sm:24,xs:24},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(_t,null)))),r.a.createElement(le.a,null,r.a.createElement(vt,null),r.a.createElement(be.a,null),r.a.createElement(le.a,{className:"mapChart"},r.a.createElement("h3",null,"Resource Surplus"),r.a.createElement(Ct,null)),r.a.createElement(be.a,null),r.a.createElement(le.a,{className:"mapChart"},r.a.createElement("h3",null,"Tubewells"),r.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/HBWnDEUXCnGnGrRfrpKa.png",alt:"map"})))):r.a.createElement(x.a,{to:"/signin"})}}]),t}(n.Component),jt=a(164),kt=a(156),It=function(){return r.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},r.a.createElement(kt.a,{size:"large"}))},xt=a(16),Pt=a.n(xt);function Ft(e){return e<10?"0".concat(e):e}function Tt(e){var t=new Date;if("today"===e)return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[Pt()(t),Pt()(t.getTime()+86399e3)];if("week"===e){var a=t.getDay();t.setHours(0),t.setMinutes(0),t.setSeconds(0),0===a?a=6:a-=1;var n=t.getTime()-864e5*a;return[Pt()(n),Pt()(n+604799e3)]}var r=t.getFullYear();if("month"===e){var o=t.getMonth(),l=Pt()(t).add(1,"months"),i=l.year(),s=l.month();return[Pt()("".concat(r,"-").concat(Ft(o+1),"-01 00:00:00")),Pt()(Pt()("".concat(i,"-").concat(Ft(s+1),"-01 00:00:00")).valueOf()-1e3)]}return[Pt()("".concat(r,"-01-01 00:00:00")),Pt()("".concat(r,"-12-31 23:59:59"))]}a(291);var Mt=r.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(6)]).then(a.bind(null,614))})),At=r.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(9)]).then(a.bind(null,615))})),Nt=r.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(5)]).then(a.bind(null,616))})),Bt=r.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(8)]).then(a.bind(null,618))})),Lt=r.a.lazy((function(){return Promise.all([a.e(1),a.e(0),a.e(7)]).then(a.bind(null,617))})),Rt=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={salesType:"all",currentTabKey:"",rangePickerValue:Tt("year")},a.reqRef=0,a.timeoutId=0,a.handleChangeSalesType=function(e){a.setState({salesType:e.target.value})},a.handleTabChange=function(e){a.setState({currentTabKey:e})},a.handleRangePickerChange=function(e){a.props.dispatch;a.setState({rangePickerValue:e})},a.selectDate=function(e){a.props.dispatch;a.setState({rangePickerValue:Tt(e)})},a.isActive=function(e){var t=a.state.rangePickerValue,n=Tt(e);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?"currentDate":""},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.props.dispatch;cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){for(var e=this.state,t=e.rangePickerValue,a=e.salesType,o=e.currentTabKey,l=[],i=(new Date).getTime(),s=[7,5,4,2,4,0,20],c=0;c<s.length;c+=1)l.push({x:Pt()(new Date(i+864e5*c)).format("YYYY-MM-DD"),y:s[c]});for(var m=[],d=[1,6,4,8,3,7,2],u=0;u<d.length;u+=1)m.push({x:Pt()(new Date(i+864e5*u)).format("YYYY-MM-DD"),y:d[u]});for(var p=[],h=0;h<12;h+=1)p.push({x:"".concat(h+1,"\u6708"),y:Math.floor(1e3*Math.random())+200});for(var f=[],g=0;g<50;g+=1)f.push({index:g+1,keyword:"search keyword-".concat(g),count:Math.floor(1e3*Math.random()),range:Math.floor(100*Math.random()),status:Math.floor(10*Math.random()%2)});for(var E=[],b=0;b<10;b+=1)E.push({name:"Stores ".concat(b),cvr:Math.ceil(9*Math.random())/10});for(var _,y=[],v=0;v<20;v+=1)y.push({x:(new Date).getTime()+18e5*v,y1:Math.floor(100*Math.random())+10,y2:Math.floor(100*Math.random())+10});_="all"===a?[{x:"Household appliances",y:4544},{x:"Drinking Tea",y:3321},{x:"Personal health",y:3113},{x:"Drinking",y:2341},{x:"health",y:1231},{x:"Tea",y:1231}]:"online"===a?[{x:"free",y:244},{x:"instantly",y:321},{x:"translates",y:311},{x:"over",y:41},{x:"instantly",y:121},{x:"Google",y:111}]:[{x:"\u5bb6\u7528\u7535\u5668",y:99},{x:"\u98df\u7528\u9152\u6c34",y:188},{x:"\u4e2a\u62a4\u5065\u5eb7",y:344},{x:"\u670d\u9970\u7bb1\u5305",y:255},{x:"\u5176\u4ed6",y:65}];var w=r.a.createElement(P.a,null,r.a.createElement(P.a.Item,null,"1"),r.a.createElement(P.a.Item,null,"2")),S=r.a.createElement("span",{className:"iconGroup"},r.a.createElement(jt.a,{overlay:w,placement:"bottomRight"},r.a.createElement(H.a,{type:"ellipsis"}))),D=o||E[0]&&E[0].name;return r.a.createElement(he.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(It,null)},r.a.createElement(Mt,{loading:!1,visitData:l})),r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(At,{rangePickerValue:t,salesData:p,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:!1,selectDate:this.selectDate})),r.a.createElement(F.a,{gutter:24,type:"flex",style:{marginTop:24}},r.a.createElement(q.a,{xl:12,lg:24,md:24,sm:24,xs:24},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(Nt,{loading:!1,visitData2:m,searchData:f,dropdownGroup:S}))),r.a.createElement(q.a,{xl:12,lg:24,md:24,sm:24,xs:24},r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(Bt,{dropdownGroup:S,salesType:a,loading:!1,salesPieData:_,handleChangeSalesType:this.handleChangeSalesType})))),r.a.createElement(n.Suspense,{fallback:null},r.a.createElement(Lt,{activeKey:D,loading:!1,offlineData:E,offlineChartData:y,handleTabChange:this.handleTabChange}))))}}]),t}(n.Component),Vt=a(578),zt=a(579),Ut=a(588),Ht=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=Ut.a.Step,t=this.props.curr;return r.a.createElement("div",{className:"p-5"},r.a.createElement(Ut.a,{current:t,status:"process"},r.a.createElement(e,{title:"Registration"}),r.a.createElement(e,{title:"Address"}),r.a.createElement(e,{title:"Designation"})))}}]),t}(n.Component),Gt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.postFormData()},a.showErrorMessage=function(e,t){L.a.error(e,t),L.a.error(e,t)},a.postFormData=function(){if(a.cnic.value&&a.cnic.value&&a.fullname.value&&a.fathername.value&&a.appointment_date.value&&a.birth_date.value&&a.state.gender&&a.email.value&&a.local.value&&a.state.image){var e=new FormData;e.append("cnic",a.cnic.value),e.append("fullname",a.fullname.value),e.append("fathername",a.fathername.value),e.append("appointment_date",a.appointment_date.value),e.append("birth_date",a.birth_date.value),e.append("gender",a.state.gender),e.append("email",a.email.value),e.append("local",a.local.value),e.append("image",a.state.image,a.state.image.name),v.a.post("http://localhost:3003/api/employee_create",e).then((function(e){var t=e.data;console.log(t),a.setState({loading:!1}),t.err?a.showErrorMessage(t.err,5):200===t.status&&(L.a.success("Successfully Register Employee",5),a.props.history.push("/employeeHome/".concat(t.employee_id)))}))}else a.showErrorMessage("Please provide all the Fields",5)},a.onGenderDataChange=function(e){a.setState({gender:e.target.value}),console.log(a.state.gender)},a.certFileSelected=function(e){a.setState({certFile:e.target.files[0]}),console.log(a.state.certFile)},a.onImageDataChange=function(e){var t=e.target.files;a.setState({image:t[0]}),e.target.files&&e.target.files[0]&&a.setState({fimage:URL.createObjectURL(e.target.files[0])})},a.showRegistrationForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{curr:0}),r.a.createElement(le.a,{className:"p-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"cnic",sm:2},"CNIC"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.cnic=e},type:"number",name:"cnic",id:"cnic",placeholder:"54400-0987789-1"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"cnic",sm:2},"Form Number"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.cnic=e},type:"number",name:"cnic",id:"cnic",placeholder:"Enter Employee Form number here"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"fullname",sm:2},"Full Name"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.fullname=e},type:"text",name:"fullname",id:"fullname",placeholder:"Enter your Name here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"fathername",sm:2},"Father Name"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.fathername=e},type:"text",name:"fathername",id:"fathername",placeholder:"Enter your Father Name here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"appointment_date",sm:2},"Date of Appointment"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.appointment_date=e},type:"date",name:"appointment_date ",id:"appointment_date",placeholder:"Provide your Date of Appointment"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"birth_date",sm:2},"Date of Birth"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.birth_date=e},type:"date",name:"birth_date ",id:"birth_date",placeholder:"Provide your Date of Birth"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"email",sm:2},"Email"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.email=e},type:"email",name:"email",id:"email",placeholder:"Enter your Email here"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"local",sm:2},"Local"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.local=e},type:"text",name:"local",id:"local",placeholder:"Enter your Local here"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"gender",sm:2},"Select Gender"),r.a.createElement(ce.a,{sm:10},r.a.createElement("div",{onChange:a.onGenderDataChange},r.a.createElement("input",{type:"radio",value:"male",name:"gender"})," Male \xa0 \xa0",r.a.createElement("input",{type:"radio",value:"female",name:"gender"})," Female"))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"employee_photo",sm:2},"Upload Photo"),r.a.createElement(ce.a,{sm:8},r.a.createElement(me.a,{type:"file",name:"employee_photo",id:"employee_photo",innerRef:function(e){return a.employee_photo=e},onChange:a.onImageDataChange}),r.a.createElement(Vt.a,{color:"muted"},"Please Provide Employee Resent Passport size Photo")),r.a.createElement(ce.a,{sm:2},r.a.createElement(T.a,{shape:"square",size:124,icon:"user",src:a.state.fimage}))),r.a.createElement(se.a,{check:!0,row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(de.a,{onClick:a.handleSubmit},"Register"))))))},a.state={alert:null,loading:!1,activeTab:"1",gender:"male",certFile:null,departs:[],designationsItems:[],selectedDepartemnt:null,image:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.state.loading?r.a.createElement(zt.a,{style:{width:"6rem",height:"6rem"}}):this.showRegistrationForm()))}}]),t}(n.Component),qt=a(580),Wt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.postData(),a.department_name.value="",a.department_description.value="",a.department_city_name.value=""},a.postData=function(){fetch("http://localhost:3003/api/create_department",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({department:{department_name:a.department_name.value,department_description:a.department_description.value,department_city_name:a.department_city_name.value}})}).then((function(e){return console.log(e)}))},a.state={},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"department_name"},"Department Name"),r.a.createElement(me.a,{innerRef:function(t){return e.department_name=t},type:"text",name:"department_name",id:"department_name",placeholder:"Enter your Current Address here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"department_description"},"Department Description"),r.a.createElement(me.a,{innerRef:function(t){return e.department_description=t},type:"text",name:"department_description",id:"department_description",placeholder:"Enter your Permanent Address here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"department_city_name"},"Department City Name"),r.a.createElement(me.a,{innerRef:function(t){return e.department_city_name=t},type:"text",name:"department_city_name",id:"department_city_name",placeholder:"Enter your City here"})))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{onClick:this.handleSubmit},"Add Department")))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{color:"white"},r.a.createElement(I.b,{to:"/"},"Go Back "))))))))}}]),t}(n.Component),Yt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getDepartmentList=function(){var e=[];fetch("http://localhost:3003/api/department_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);for(var n=1;n<=t.length;n++){var o=t[n-1];e.push(r.a.createElement("option",{value:o.department_id},o.department_name))}a.setState({departs:e})}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.menu.value),a.postData(),a.designation_title.value="",a.designation_scale.value="",a.menu.value="N/A"},a.postData=function(){console.log(a.menu.value),fetch("http://localhost:3003/api/create_designation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({designation:{designation_title:a.designation_title.value,designation_scale:a.designation_scale.value,department_id:a.menu.value}})}).then((function(e){return console.log(e)}))},a.toggle=function(){a.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))},a.state={departs:[]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDepartmentList()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"designation_title"},"Designation Title"),r.a.createElement(me.a,{innerRef:function(t){return e.designation_title=t},type:"text",name:"designation_title",id:"designation_title",placeholder:"Enter your Current Address here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"designation_scale"},"Designation Scale"),r.a.createElement(me.a,{innerRef:function(t){return e.designation_scale=t},type:"text",name:"designation_scale",id:"designation_scale",placeholder:"Enter your Permanent Address here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"designation_scale"},"Select Department"),r.a.createElement("select",{id:"designation_scale",ref:function(t){return e.menu=t}},r.a.createElement("option",{value:"N/A"},"Select Department"),this.state.departs)))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{onClick:this.handleSubmit},"Add Designation")))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{color:"white"},r.a.createElement(I.b,{to:"/"},"Go Back "))))))))}}]),t}(n.Component),Kt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=De.a.Text,t=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{background:"#F9F9FB",padding:"30px"}},r.a.createElement(be.a,{orientation:"left",type:"horizontal"},"Employee Bio Data"),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{span:6,pull:18},r.a.createElement(Ee.a,{size:"middle"},r.a.createElement(Ee.a.Item,{span:12,label:"Full Name"}," ",r.a.createElement(e,{strong:!0},t.full_name)),r.a.createElement(Ee.a.Item,{span:12,label:"Father Name"},r.a.createElement(e,{strong:!0},t.father_name)),r.a.createElement(Ee.a.Item,{span:12,label:"CNIC"},r.a.createElement(e,{strong:!0},t.cnic)),r.a.createElement(Ee.a.Item,{span:12,label:"Date of Appointment"},r.a.createElement(e,{strong:!0},t.appointment_date.substring(0,10))),r.a.createElement(Ee.a.Item,{span:12,label:"Date of Birth"},r.a.createElement(e,{strong:!0},t.birth_date.substring(0,10))),r.a.createElement(Ee.a.Item,{span:12,label:"Gender"},r.a.createElement(e,{strong:!0},t.gender)),r.a.createElement(Ee.a.Item,{span:12,label:"Email"},r.a.createElement(e,{strong:!0},t.email)),r.a.createElement(Ee.a.Item,{span:12,label:"Locality"},r.a.createElement(e,{strong:!0},t.local)))),r.a.createElement(ce.a,{span:18,push:6},r.a.createElement(T.a,{shape:"square",size:200,src:"http://localhost:3003/".concat(t.employee_photo)})))))}}]),t}(n.Component),Jt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=De.a.Text,t=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{background:"#F9F9FB",padding:"30px"}},r.a.createElement(be.a,{orientation:"left",type:"horizontal"},"Employee Address"),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{span:6,pull:18},r.a.createElement(Ee.a,{size:"middle"},r.a.createElement(Ee.a.Item,{span:12,label:"Current Address"}," ",r.a.createElement(e,{strong:!0},t.current_address)),r.a.createElement(Ee.a.Item,{span:12,label:"Permanent Address"},r.a.createElement(e,{strong:!0},t.permanent_address)),r.a.createElement(Ee.a.Item,{span:12,label:"Postal Code"},r.a.createElement(e,{strong:!0},t.postal_code)),r.a.createElement(Ee.a.Item,{span:12,label:"Phone number 1"},r.a.createElement(e,{strong:!0},t.phone_number)),r.a.createElement(Ee.a.Item,{span:12,label:"Phone Number 2"},r.a.createElement(e,{strong:!0},t.phone_number2)),r.a.createElement(Ee.a.Item,{span:12,label:"City"},r.a.createElement(e,{strong:!0},"Quetta")),r.a.createElement(Ee.a.Item,{span:12,label:"Country"},r.a.createElement(e,{strong:!0},"Pakistan")))))))}}]),t}(n.Component),Qt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=De.a.Text,t=this.props.data,a=1===t.emp_des_is_active?"Active":"UnActive";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{background:"#F9F9FB",padding:"30px"}},r.a.createElement(be.a,{orientation:"left",type:"horizontal"},"Employee Designation Details"),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{span:6,pull:18},r.a.createElement(Ee.a,{size:"middle"},r.a.createElement(Ee.a.Item,{span:12,label:"Designation Date"},r.a.createElement(e,{strong:!0},t.emp_des_order_date.substring(0,10))),r.a.createElement(Ee.a.Item,{span:12,label:"Appointment date"},r.a.createElement(e,{strong:!0},t.emp_des_appointment_date.substring(0,10))),r.a.createElement(Ee.a.Item,{span:12,label:"Designation Status"},r.a.createElement(e,{strong:!0}," ",r.a.createElement(G.a,{status:"processing",text:a}))),r.a.createElement(Ee.a.Item,{span:12,label:"Designation Title"},r.a.createElement(e,{strong:!0},t.des_title)),r.a.createElement(Ee.a.Item,{span:12,label:"Designation Scale"},r.a.createElement(e,{strong:!0},t.des_scale)),r.a.createElement(Ee.a.Item,{span:12,label:"Department Name"},r.a.createElement(e,{strong:!0},t.department_name)),r.a.createElement(Ee.a.Item,{span:12,label:"Department Description"},r.a.createElement(e,{strong:!0},t.department_description)),r.a.createElement(Ee.a.Item,{span:12,label:"Department City "},r.a.createElement(e,{strong:!0},t.department_city_name))))),r.a.createElement(qt.a,null,r.a.createElement(T.a,{shape:"square",size:200,src:"http://localhost:3003/".concat(t.emp_des_order_letter_photo)}))))}}]),t}(n.Component),Xt=(a(548),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).id=a.props.match.params.id,a.getData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({data:e[0]}),a.getEmployeeAddress()}))},a.getEmployeeAddress=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({address_data:e[0]}),a.getEmployeeDesignation()}))},a.getformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.emp_des_id,duration:n.emp_des_appointment_date.substring(0,10),title:n.des_title,scale:n.des_scale,department_name:n.department_name,department_location:n.department_city_name,status:n.emp_des_is_active})}return t},a.getEmployeeDesignation=function(){fetch("http://localhost:3003/api/employee_designation_details/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({designation_data:e[0],tabledata:a.getformateData(e)}),a.getTrainingData()}))},a.getTrainformateData=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];t.push({key:n.training_id,Name:n.train_name.substring(0,10),Description:n.train_description,Start:n.train_start_date.substring(0,10),End:n.train_end_date.substring(0,10),Location:n.train_location_name})}return t},a.getTrainingData=function(){fetch("http://localhost:3003/api/training_list/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({loading:!1,traintabledata:a.getTrainformateData(e)})}))},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.designation_columns=[{title:"Join Date",dataIndex:"duration"},{title:"Title",dataIndex:"title"},{title:"Scale",dataIndex:"scale"},{title:"Department Name",dataIndex:"department_name"},{title:"Department Location",dataIndex:"department_location"},{title:"Status",dataIndex:"status",render:function(e,t){return r.a.createElement("span",null,0===t.status?r.a.createElement(G.a,{status:"default",text:"Not Active"}):r.a.createElement(G.a,{status:"processing",text:"Active"}))}}],a.trainingcolumns=[{title:"Name",dataIndex:"Name"},{title:"Description",dataIndex:"Description"},{title:"Start",dataIndex:"Start"},{title:"End",dataIndex:"End"},{title:"Location",dataIndex:"Location"}],a.transfercolumns=[{title:"Transfer Date",dataIndex:"Transfer_Date"},{title:"Joining Date",dataIndex:"Joining_Date"},{title:"Description ",dataIndex:"Description"},{title:"Division",dataIndex:"Division"},{title:"Sub Division",dataIndex:"Sub_Division"},{title:"Tubewell",dataIndex:"Tubewell"},{title:"Status",dataIndex:"status",render:function(e,t){return r.a.createElement("span",null,0===t.status?r.a.createElement(G.a,{status:"default",text:"Not Active"}):r.a.createElement(G.a,{status:"processing",text:"Active"}))}},{title:"Actions",dataIndex:"actions",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){a.setState({visible_showpromoteModal:!0,key:t.key})}},"Edit"))}}],a.reportView=function(){return r.a.createElement(le.a,{id:"print-it",className:"pt-5"},r.a.createElement("div",{className:"pt-5 example-screen"},r.a.createElement(lt.a,{title:"View Employee Summary ",subTitle:"",extra:[r.a.createElement(B.a,{onClick:a.showModal,type:"primary"},"View Details of Employee"),r.a.createElement(B.a,{href:"/"},"Go back to Main Page"),r.a.createElement(B.a,null,r.a.createElement(I.b,{to:"/create_employee"}," Add another Employee "))]})),r.a.createElement(he.b,{style:{fontSize:"xx-large"}},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F9F9FB",fontSize:5,fontWeight:750}},r.a.createElement(F.a,null,r.a.createElement(q.a,{sm:20},r.a.createElement(Ee.a,{title:"Basics",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Full Name"},a.state.data.full_name),r.a.createElement(Ee.a.Item,{label:"Father Name"},a.state.data.father_name),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"CNIC Number"},a.state.data.cnic),r.a.createElement(Ee.a.Item,{label:"Email"},a.state.data.email),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Birthday"},a.state.data.birth_date.substring(0,10)),r.a.createElement(Ee.a.Item,{label:"Service Join Date"},a.state.data.appointment_date.substring(0,10)),r.a.createElement(Ee.a.Item,{label:"Gender"},a.state.data.gender))),r.a.createElement(q.a,{sm:4},r.a.createElement(T.a,{shape:"square",size:200,src:"http://localhost:3003/".concat(a.state.data.employee_photo)}))),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(F.a,null,r.a.createElement(Ee.a,{title:"Home Address",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Current Address"},a.state.address_data.current_address),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Permanent Address"},a.state.address_data.permanent_address),r.a.createElement(Ee.a.Item,{label:"Postal Code"},a.state.address_data.postal_code),r.a.createElement(Ee.a.Item,{label:"City"},"Quetta"),r.a.createElement(Ee.a.Item,{label:"Phone 1"},a.state.address_data.phone_number),r.a.createElement(Ee.a.Item,{label:"Phone 2"},""!==a.state.address_data.phone_number2?a.state.address_data.phone_number2:"None"))),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(Ee.a,{title:"Emergency Contact",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Full Name"},"Amir khan"),r.a.createElement(Ee.a.Item,{label:"Relationship"},"Friend"),r.a.createElement("br",null),r.a.createElement(Ee.a.Item,{label:"Phone Number 1"},"923337906856"),r.a.createElement(Ee.a.Item,{label:"Phone Number 2"},"923337906856"),r.a.createElement(Ee.a.Item,{label:"Email"},"Amir@gmail.com")),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(Ee.a,{title:"Employment Details",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Start Date"},a.state.designation_data.emp_des_appointment_date.substring(0,10)),r.a.createElement(Ee.a.Item,{label:"Designation Title"},a.state.designation_data.des_title),r.a.createElement(Ee.a.Item,{label:"Designation Scale"},a.state.designation_data.des_scale),r.a.createElement(Ee.a.Item,{label:"Department Name"},a.state.designation_data.department_name),r.a.createElement(Ee.a.Item,{label:"Department Location"},"Quetta")),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement(Ee.a,{title:"Work Address",style:{marginBottom:32}},r.a.createElement(Ee.a.Item,{label:"Current Address"},"912 Silver St., Suite 1966"),r.a.createElement(Ee.a.Item,{label:"Postal Code"},"94107"),r.a.createElement(Ee.a.Item,{label:"City"},"Quetta"),r.a.createElement(Ee.a.Item,{label:"Phone 1"},"416-000-0000"),r.a.createElement(Ee.a.Item,{label:"Phone 2"},"416-000-0000")),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement("div",{className:"pt-3"},r.a.createElement("h4",null,"Employee Designation History"),r.a.createElement(W.a,{columns:a.designation_columns,dataSource:a.state.tabledata,pagination:!1})),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement("div",{className:"pt-3"},r.a.createElement("h4",null,"Employee Training History"),r.a.createElement(W.a,{columns:a.trainingcolumns,dataSource:a.state.traintabledata,pagination:!1})),r.a.createElement(be.a,{style:{marginBottom:32}}),r.a.createElement("div",{className:"pt-3"},r.a.createElement("h4",null,"Employee Attachment/Transfer History"),r.a.createElement(W.a,{columns:a.transfercolumns,dataSource:a.state.transferdata,pagination:!1})))),r.a.createElement(Y.a,{width:window.innerWidth/2,title:"Basic Modal",visible:a.state.visible,onOk:a.handleOk,onCancel:a.handleCancel},r.a.createElement(Kt,{data:a.state.data}),r.a.createElement(be.a,null),r.a.createElement(Jt,{data:a.state.address_data}),r.a.createElement(be.a,null),r.a.createElement(Qt,{data:a.state.designation_data})))},a.printClicked=function(){var e=document.getElementById("print-it").innerHTML,t=document.body.innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=t},a.state={loading:!0,visible:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.state.loading?"Loading":r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{type:"primary",onClick:function(){e.printClicked()}},"Download PDF"),this.reportView())))}}]),t}(n.Component)),Zt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).id=a.props.match.params.id,a.getData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({data:e[0],loading:!1})}))},a.gotoEmployeeAddress=function(){a.props.history.push("/employeeAddress/".concat(a.state.data.employee_id))},a.state={alert:null,data:null,loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(Ht,{curr:1}),this.state.loading?"":r.a.createElement(le.a,{className:"pt-5"},r.a.createElement(Kt,{data:this.state.data}),r.a.createElement("div",{className:"pt-5"},r.a.createElement(de.a,{color:"primary",size:"lg",onClick:this.gotoEmployeeAddress},"Add Employee Address")))))}}]),t}(n.Component),$t=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).id=a.props.match.params.id,a.handleSubmit=function(e){e.preventDefault(),a.postData()},a.postData=function(){a.id&&a.current_address.value&&a.current_address.value&&a.postal_code.value&&a.phone_number.value&&a.phone_number2.value&&a.city.value&&a.country.value?fetch("http://localhost:3003/api/employee_create_address",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:parseInt(a.id),current_address:a.current_address.value,permanent_address:a.permanent_address.value,postal_code:a.postal_code.value,phone_number:a.phone_number.value,phone_number2:a.phone_number2.value,city:a.city.value,country:a.country.value})}).then((function(e){return e.json()})).then((function(e){console.log("there pamir khan : \n"),console.log(e),500===e.status?R.showErrorMessage("Server Error ",5):200===e.status&&(R.showSuccessMessage("Successfully Added",5),a.props.history.push("/employeeAddressHome/".concat(a.id)))})):R.showErrorMessage("Please provide all the Fields",5)},a.showAddressForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{curr:1}),r.a.createElement(le.a,{className:"p-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"current_address",sm:2},"Current Address"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.current_address=e},type:"address",name:"current_address",id:"current_address",placeholder:"Enter your Current Address here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"permanent_address",sm:2},"Permanent Address"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.permanent_address=e},type:"address",name:"permanent_address",id:"permanent_address",placeholder:"Enter your Permanent Address here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"postal_code",sm:2},"Postal Code"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.postal_code=e},type:"number",name:"postal_code",id:"postal_code",placeholder:"Enter your Postal Code here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"phone_number",sm:2},"Phone Number 1"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.phone_number=e},type:"number",name:"phone_number ",id:"phone_number",placeholder:"03337906856"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"phone_number2",sm:2},"Phone Number 2"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.phone_number2=e},type:"number",name:"phone_number2 ",id:"phone_number2",placeholder:"03337906856"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"city",sm:2},"City"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.city=e},type:"text",name:"city",id:"city",placeholder:"Enter your City here"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"country",sm:2},"Country"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.country=e},type:"text",name:"country",id:"country",placeholder:"Enter your Country here"}))),r.a.createElement(se.a,{check:!0,row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(de.a,{onClick:a.handleSubmit},"Submit"))))))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.showAddressForm()))}}]),t}(n.Component),ea=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).id=a.props.match.params.id,a.getData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({data:e[0]}),a.getEmployeeAddress()}))},a.getEmployeeAddress=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({address_data:e[0],loading:!1})}))},a.gotoEmployeeDesignationForm=function(){a.props.history.push("/employeeDesignation/".concat(a.state.data.employee_id))},a.state={loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(Ht,{curr:2}),this.state.loading?"":r.a.createElement(le.a,{className:"pt-5"},r.a.createElement(Kt,{data:this.state.data}),r.a.createElement(Jt,{data:this.state.address_data}),r.a.createElement("div",{className:"pt-5"},r.a.createElement(de.a,{color:"primary",size:"lg",onClick:this.gotoEmployeeDesignationForm},"Add Employee Designation")))))}}]),t}(n.Component),ta=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).id=a.props.match.params.id,a.getData=function(){fetch("http://localhost:3003/api/show_one_employee/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({data:e[0]}),a.getEmployeeAddress()}))},a.getEmployeeAddress=function(){fetch("http://localhost:3003/api/show_one_employee_address/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({address_data:e[0]}),a.getEmployeeDesignation()}))},a.getEmployeeDesignation=function(){fetch("http://localhost:3003/api/employee_designation_details/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),a.setState({designation_data:e[0],loading:!1})}))},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.state={loading:!0,visible:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(Ht,{curr:10}),this.state.loading?"":r.a.createElement(le.a,{className:"pt-5"},r.a.createElement("div",{className:"pt-5"},r.a.createElement(lt.a,{status:"success",title:"Employee Successfully Added ",subTitle:"",extra:[r.a.createElement(B.a,{onClick:this.showModal,type:"primary"},"View Added Employee"),r.a.createElement(B.a,{href:"/"},"Go back to Main Page"),r.a.createElement(B.a,null,r.a.createElement(I.b,{to:"/create_employee"}," Add another Employee "))]})),r.a.createElement(Y.a,{width:window.innerWidth/2,title:"Basic Modal",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},r.a.createElement(Kt,{data:this.state.data}),r.a.createElement(be.a,null),r.a.createElement(Jt,{data:this.state.address_data}),r.a.createElement(be.a,null),r.a.createElement(Qt,{data:this.state.designation_data})))),"s")}}]),t}(n.Component),aa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).id=a.props.match.params.id,a.getDepartmentList=function(){var e=[];fetch("http://localhost:3003/api/department_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);for(var n=1;n<=t.length;n++){var o=t[n-1];e.push(r.a.createElement("option",{value:o.department_id},o.department_name))}a.setState({departs:e})}))},a.getDesignationsList=function(e){var t=[];fetch("http://localhost:3003/api/designation_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);for(var n=1;n<=e.length;n++){var o=e[n-1];t.push(r.a.createElement("option",{value:o.des_id},o.des_title))}a.setState({designationsItems:t})}))},a.onDepartmentMenuChange=function(e){a.setState({selectedDepartemnt:e.target.value}),a.getDesignationsList(e.target.value),console.log(" Lo G : "+e.target.value)},a.handleSubmit=function(e){e.preventDefault(),a.postData()},a.postData=function(){if(a.id&&a.menu.value&&a.Des_menu.value&&a.des_order_date.value&&a.des_appointment_date.value&&a.state.image){var e=new FormData;e.append("employee_id",a.id),e.append("des_id",a.Des_menu.value),e.append("designation_order_date",a.des_order_date.value),e.append("des_appointment_date",a.des_appointment_date.value),e.append("image",a.state.image,a.state.image.name),v.a.post("http://localhost:3003/api/create_employee_designation",e).then((function(e){var t=e.data;console.log(t),a.setState({loading:!1}),t.err?R.showErrorMessage(t.err,5):200===t.status&&(R.showSuccessMessage("Successfully Added Employee Designation",5),a.props.history.push("/employee_designationHome/".concat(a.id)))}))}else R.showErrorMessage("Please provide all the Fields",5)},a.onImageDataChange=function(e){var t=e.target.files;a.setState({image:t[0]}),e.target.files&&e.target.files[0]&&a.setState({fimage:URL.createObjectURL(e.target.files[0])})},a.showDesignationForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,{curr:2}),r.a.createElement(le.a,{className:"p-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"designation_scale",sm:2},"Select Department"),r.a.createElement(ce.a,{sm:10},r.a.createElement("select",{id:"designation_scale",onChange:a.onDepartmentMenuChange,ref:function(e){return a.menu=e}},r.a.createElement("option",{value:"N/A"},"Select Department"),a.state.departs))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"designation_scale",sm:2},"Select Designation"),r.a.createElement(ce.a,{sm:10},r.a.createElement("select",{id:"designation_scale",ref:function(e){return a.Des_menu=e}},r.a.createElement("option",{value:"N/A"},"Select Department"),a.state.designationsItems))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"des_order_date",sm:2},"Designation Order Date"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.des_order_date=e},type:"date",name:"des_order_date",id:"des_order_date"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"des_appointment_date",sm:2},"Designation Appointment Date"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.des_appointment_date=e},type:"date",name:"des_appointment_date",id:"des_appointment_date"}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"des_copy",sm:2},"Upload Order Copy Image"),r.a.createElement(ce.a,{sm:8},r.a.createElement(me.a,{type:"file",name:"des_copy",id:"des_copy",innerRef:function(e){return a.des_copy=e},onChange:a.onImageDataChange}),r.a.createElement(Vt.a,{color:"muted"},"Please Provide Designation Image")),r.a.createElement(ce.a,{sm:2},r.a.createElement(T.a,{shape:"square",size:124,icon:"user",src:a.state.fimage}))),r.a.createElement(se.a,{check:!0,row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(de.a,{onClick:a.handleSubmit},"Submit"))))))},a.state={certFile:null,departs:[],designationsItems:[],selectedDepartemnt:null,image:null},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDepartmentList()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.showDesignationForm()))}}]),t}(n.Component),na=a(581);function ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ra(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var la=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).data=a.props.data,a.state={searchText:""},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(N.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,l)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(B.a,{type:"primary",onClick:function(){return a.handleSearch(o,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(B.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(H.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return r.a.createElement(Z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})};for(var n=[],o=0;o<a.data.length;o++){var l=a.data[o];n.push({key:l.employee_id,name:l.full_name,fathername:l.father_name,email:l.email,cnic:l.cnic,local:l.local,birth_date:l.birth_date.substring(0,10)})}return a.state={data:n,loading:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}}]),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=[oa({title:"Name",dataIndex:"name",key:"name",width:"15%"},this.getColumnSearchProps("name")),oa({title:"Father Name",dataIndex:"fathername",key:"fathername",width:"15%"},this.getColumnSearchProps("fathername")),oa({title:"Email",dataIndex:"email",key:"email",width:"20%"},this.getColumnSearchProps("email")),oa({title:"CNIC",dataIndex:"cnic",key:"cnic",width:"13%"},this.getColumnSearchProps("cnic")),oa({title:"Local",dataIndex:"local",key:"local",width:"10%"},this.getColumnSearchProps("local")),oa({title:"Birth Date",dataIndex:"birth_date",key:"birth_date",width:"10%"},this.getColumnSearchProps("birth_date")),{title:"Action",dataIndex:"action",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement(I.b,{onClick:function(){e.props.history.push("employee/".concat(a.key))}},"View"),r.a.createElement(be.a,{type:"vertical"}),r.a.createElement(I.b,{onClick:function(){e.props.history.push("employee_report/".concat(a.key))}},"Report"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(na.a,null,r.a.createElement("h6",{className:"display-4"},"List of All Employees")),this.state.loading?"":r.a.createElement(W.a,{columns:t,dataSource:this.state.data}))}}]),t}(n.Component),ia=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getData=function(){fetch("http://localhost:3003/api/employee_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({data:e,loading:!1})}))},a.handleEmployeeClicked=function(e){console.log(e),a.setState((function(){return{}}))},a.performSearch=function(e){var t="search?search=".concat(e);fetch("http://localhost:3003/api/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({data:e,loading:!1})})).catch((function(e){console.log("Error fetching and parsing data",e)}))},a.state={data:null,loading:!0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.state.loading?"":r.a.createElement(la,{data:this.state.data,history:this.props.history})))}}]),t}(n.Component),sa=a(72),ca=a(284),ma=a.n(ca),da=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.transcript,a=e.resetTranscript;return e.browserSupportsSpeechRecognition?r.a.createElement("div",null,r.a.createElement("button",{onClick:a},"Reset"),r.a.createElement("span",null,t)):null}}]),t}(n.Component),ua=(ma()(da),sa.a.Header,sa.a.Footer,sa.a.Sider,sa.a.Content,a(264)),pa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.postComplain()},a.showErrorMessage=function(e,t){L.a.error(e,t),L.a.error(e,t)},a.postComplain=function(){var e=ua();if(console.log("here is complain_id",e),a.complain_body.value){var t=new FormData;t.append("complain_id",e),t.append("account_number",a.state.authUser.account_number),t.append("complain_body",a.complain_body.value),t.append("complain_status","Its Very first step"),console.log(e),console.log(a.account_number.value),console.log(a.complain_body.value),v.a.post("http://localhost:3003/api/complain_register",t).then((function(t){var n=t.data;console.log(n),a.setState({loading:!1}),n.err?a.showErrorMessage(n.err,5):200===n.status&&(a.state.image&&a.state.image.name?a.postAttachment(e):R.showSuccessMessage("Successfully Register your Complaint",5))}))}else a.showErrorMessage("Please provide all the Fields",5)},a.postAttachment=function(e){var t=new FormData;t.append("attachment_id",ua()),t.append("complain_id",e),t.append("attachment_file_type",a.state.image.type),t.append("image",a.state.image,a.state.image.name),v.a.post("http://localhost:3003/api/postConsumerAttachment",t).then((function(e){var t=e.data;console.log(t),a.setState({loading:!1}),t.err?a.showErrorMessage(t.err,5):200===t.status&&(R.showSuccessMessage("Successfully Register your Complaint!",5),a.props.history.push("/complain_dashboard"))}))},a.onImageDataChange=function(e){var t=e.target.files;a.setState({image:t[0]}),e.target.files&&e.target.files[0]&&a.setState({fimage:URL.createObjectURL(e.target.files[0])})},a.showRegistrationForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:"p-5"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"account_number",sm:2},"Account Number"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{disabled:"disabled",innerRef:function(e){return a.account_number=e},type:"text",name:"account_number",id:"account_number",placeholder:a.state.authUser.account_number}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"complain_body",sm:2},"Complain Body"),r.a.createElement(ce.a,{sm:10},r.a.createElement(me.a,{innerRef:function(e){return a.complain_body=e},type:"text",name:"complain_body",id:"complain_body",placeholder:"Enter complain here..."}))),r.a.createElement(se.a,{row:!0},r.a.createElement(fe.a,{for:"employee_photo",sm:2},"Upload Photo"),r.a.createElement(ce.a,{sm:8},r.a.createElement(me.a,{type:"file",name:"employee_photo",id:"employee_photo",innerRef:function(e){return a.employee_photo=e},onChange:a.onImageDataChange}),r.a.createElement(Vt.a,{color:"muted"},"Please Provide Employee Resent Passport size Photo")),r.a.createElement(ce.a,{sm:2},r.a.createElement(T.a,{shape:"square",size:124,icon:"user",src:a.state.fimage}))),r.a.createElement(se.a,{check:!0,row:!0},r.a.createElement(ce.a,{sm:{size:18,offset:2}},r.a.createElement(de.a,{onClick:a.handleSubmit},"Submit Complain"))))))},a.state={loading:!1,image:null,context:a.props.context,authUser:a.props.context.authenticatedUser},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,this.state.loading?r.a.createElement(zt.a,{style:{width:"6rem",height:"6rem"}}):this.showRegistrationForm()))}}]),t}(n.Component),ha=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.postData(),a.division_name.value="",a.division_description.value=""},a.postData=function(){fetch("http://localhost:3003/api/create_division",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({division:{division_name:a.division_name.value,division_description:a.division_description.value}})}).then((function(e){return e.json()})).then((function(e){200===e.status?R.showSuccessMessage("Division Submited"):500===e.status&&R.showErrorMessage("Error. try again")}))},a.state={},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100 vh"}},r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"division_name"},"Division Name"),r.a.createElement(me.a,{innerRef:function(t){return e.division_name=t},type:"text",name:"division_name",id:"division_name",placeholder:"Enter Division Name here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"division_description"},"Division Description"),r.a.createElement(me.a,{innerRef:function(t){return e.division_description=t},type:"text",name:"division_description",id:"division_description",placeholder:"Enter Division Description here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,{disabled:!0},r.a.createElement(fe.a,{for:"division_city_name"},"Division City"),r.a.createElement(me.a,{readonly:"readonly",innerRef:function(t){return e.division_city_name=t},type:"text",name:"division_city_name",id:"division_city_name",placeholder:"Quetta"})))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{onClick:this.handleSubmit},"Add Division")))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{color:"white"},r.a.createElement(I.b,{to:"/"},"Go Back "))))))))}}]),t}(n.Component),fa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getDivisionList=function(){var e=[];fetch("http://localhost:3003/api/division_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);for(var n=1;n<=t.length;n++){var o=t[n-1];e.push(r.a.createElement("option",{value:o.div_id},o.div_title))}a.setState({divisions:e})}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.menu.value),a.postData(),a.sub_div_name.value="",a.description.value="",a.menu.value="N/A"},a.postData=function(){console.log(a.menu.value),fetch("http://localhost:3003/api/create_designation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sub_division:{sub_div_name:a.sub_div_name.value,description:a.description.value,div_id:a.menu.value}})}).then((function(e){return console.log(e)}))},a.toggle=function(){a.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))},a.state={departs:[]},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getDivisionList()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,null,r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"sub_div_name"},"Sub Division Name:"),r.a.createElement(me.a,{innerRef:function(t){return e.sub_div_name=t},type:"text",name:"sub_div_name",id:"sub_div_name",placeholder:"Enter Sub Division Name here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"description"},"Sub Division Description"),r.a.createElement(me.a,{innerRef:function(t){return e.description=t},type:"text",name:"description",id:"description",placeholder:"Enter description here..."})))),r.a.createElement(qt.a,{form:!0},r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(fe.a,{for:"division"},"Select Main Division"),r.a.createElement("select",{id:"division",ref:function(t){return e.menu=t}},r.a.createElement("option",{value:"N/A"},"Main Division"),this.state.departs)))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{onClick:this.handleSubmit},"Add Sub Division")))),r.a.createElement(qt.a,null,r.a.createElement(ce.a,{md:6},r.a.createElement(se.a,null,r.a.createElement(de.a,{color:"white"},r.a.createElement(I.b,{to:"/"},"Go Back "))))))))}}]),t}(n.Component),ga=(sa.a.Header,sa.a.Content,sa.a.Footer,sa.a.Sider),Ea=(P.a.SubMenu,{backgroundColor:"#3e474f"}),ba=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).rootSubmenuKeys=["sub1","sub2","sub4"],a.state={openKeys:["sub1"]},a.onOpenChange=function(e){var t=e.find((function(e){return-1===a.state.openKeys.indexOf(e)}));-1===a.rootSubmenuKeys.indexOf(t)?a.setState({openKeys:e}):a.setState({openKeys:t?[t]:[]})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.authenticatedUser,t=e&&e.user_cnic?r.a.createElement(P.a,{theme:"dark",mode:"vertical",defaultSelectedKeys:["100"]},r.a.createElement(P.a.Item,{key:"8"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_register"},"Add Complaint")),r.a.createElement(P.a.Item,{key:"9"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_dashboard"},"View Complaints"))):r.a.createElement(P.a,{theme:"dark",style:Ea,mode:"vertical",defaultSelectedKeys:["100"]},r.a.createElement(P.a.Item,{key:"1"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_employee",className:"nav-text"}," Register Employee ")),r.a.createElement(P.a.Item,{key:"3"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/employee_list"},"All Employees")),r.a.createElement(P.a.Item,{key:"4"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_designation"},"Add Designation")),r.a.createElement(P.a.Item,{key:"5"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_department"},"Add Department")),r.a.createElement(P.a.Item,{key:"6"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_division"},"Add Division")),r.a.createElement(P.a.Item,{key:"7"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_sub_division"},"Add Sub Division")),r.a.createElement(P.a.Item,{key:"8"},r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_dashboard"},"View Complaints")));return r.a.createElement(sa.a,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(ga,{style:Ea,breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},t)):r.a.createElement(r.a.Fragment,null),r.a.createElement(sa.a,{style:{height:"100%"}},this.props.children))}}]),t}(r.a.Component),_a=sa.a.Sider,ya=sa.a.Content,va=k(ot),wa=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.context.authenticatedUser,t=e&&e.user_cnic?r.a.createElement(P.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["100"]},r.a.createElement(P.a.Item,{key:"8"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_register"},"Add Complaint"))),r.a.createElement(P.a.Item,{key:"9"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_dashboard"},"View Complaints")))):r.a.createElement(P.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["100"]},r.a.createElement(P.a.Item,{key:"1"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{className:"nav-text",activeStyle:{color:"white"},to:"/create_employee"},"Register Employee"))),r.a.createElement(P.a.Item,{key:"3"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/employee_list"},"All Employees"))),r.a.createElement(P.a.Item,{key:"4"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_designation"},"Add Designation"))),r.a.createElement(P.a.Item,{key:"5"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_department"},"Add Department"))),r.a.createElement(P.a.Item,{key:"6"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_division"},"Add Division"))),r.a.createElement(P.a.Item,{key:"7"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/create_sub_division"},"Add Sub Division"))),r.a.createElement(P.a.Item,{key:"8"},r.a.createElement(H.a,{type:"user"}),r.a.createElement("span",null,r.a.createElement(I.c,{activeStyle:{color:"white"},to:"/complain_dashboard"},"View Complaints"))));return r.a.createElement(sa.a,null,r.a.createElement(_a,{style:{minHeight:"100vh"},trigger:null,collapsible:!0,collapsed:this.state.collapsed},r.a.createElement("div",{className:"header--logo"},r.a.createElement(I.b,{to:"/"},r.a.createElement(rt,{width:50,height:50}))),t),r.a.createElement(sa.a,null,r.a.createElement(va,{collapsed:this.state.collapsed,toggle:this.toggle}),r.a.createElement(ya,{style:{margin:"24px 16px",background:"#f0f2f"}},this.props.children)))}}]),t}(r.a.Component),Sa=a(290),Da=(ge.a.Meta,{registered:"REGISTERED",initiated:"INITIATED",inProcess:"IN PROCESS",resolved:"RESOLVED"});function Ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ca(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ja=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).statusColorsMap={REGISTERED:"#425A70",INITIATED:"#108ee9","IN PROCESS":"#084B8A",RESOLVED:"#47B881"},a.state={searchText:""},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,o=t.selectedKeys,l=t.confirm,i=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(N.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(o,l)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(B.a,{type:"primary",onClick:function(){return a.handleSearch(o,l)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(B.a,{onClick:function(){return a.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(H.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return a.searchInput.select()}))},render:function(e){return r.a.createElement(Z.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})};for(var n=[],o=0;o<a.props.complaints.length;o++){var l=a.props.complaints[o];n.push({key:l.complain_id,Customer:r.a.createElement(I.b,{to:"/complaint/"+l.complain_id,key:l.complain_id},l.user_name),Account_Number:l.account_number,Complaint:l.complain_body,Status:[l.status],Last_Activity:l.forwards_date?Pt()(l.forwards_date).from():Pt()(l.created_us).from()})}return a.state={data:n,loading:!1},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=[{ellipsis:!0,title:"Customer",dataIndex:"Customer",key:"Customer",width:"15%"},Oa({title:"Account Number",dataIndex:"Account_Number",ellipsis:!0,key:"Account_Number",width:"15%"},this.getColumnSearchProps("Account_Number")),Oa({ellipsis:!0,title:"Complaint body",dataIndex:"Complaint",key:"Complaint",width:"25%"},this.getColumnSearchProps("Complaint")),{ellipsis:!0,title:"Status",dataIndex:"Status",key:"Status",width:"10%",render:function(t,a){return r.a.createElement("span",null,a.Status.map((function(t){return r.a.createElement(Sa.a,{color:e.statusColorsMap[t],key:t},t)})))}},Oa({ellipsis:!0,title:"Last Activity",dataIndex:"Last_Activity",key:"Last_Activity",width:"14%"},this.getColumnSearchProps("Last_Activity"))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{style:{backgroundColor:"white"},loading:this.state.loading,columns:t,dataSource:this.state.data}))}}]),t}(r.a.Component),ka=(a(552),a(589)),Ia=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",role:"admin",loading:!0,errors:[],consumer_complaints:null,s_total:0,s_new:0,s_pending:0,s_resolved:0},a.getEmployeesForwardedComplaints=function(e){fetch("http://localhost:3003/api/employee_complain_list/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({consumer_complaints:e.rows,loading:!1},(function(){return a.calculateStatuses(e.rows)})),console.log("Consumer complaints",e.rows)}))},a.getAllcomplain_list=function(){fetch("http://localhost:3003/api/complain_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({consumer_complaints:e.rows,loading:!1},(function(){return a.calculateStatuses(e.rows)})),console.log("Consumer complaints",e.rows)}))},a.calculateStatuses=function(e){var t,n,r=0,o=0,l=0;t=e.length;for(var i=0;i<e.length;i++)(n=e[i]).complain_status===Da.initiated||n.complain_status===Da.inProcess?o+=1:n.complain_status===Da.registered?r+=1:n.complain_status===Da.resolved&&(l+=1);a.setState({s_total:t,s_new:r,s_pending:o,s_resolved:l})},a.getConsumer_complain_list=function(){fetch("http://localhost:3003/api/consumer_complain_list/".concat(a.props.context.authenticatedUser.account_number),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({consumer_complaints:e.rows,loading:!1},(function(){return a.calculateStatuses(e.rows)})),console.log("Consumer complaints",e.rows)}))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.context.authenticatedUser;console.log("authUser",t),this.setState({is_admin:t.is_admin},(function(){return console.log("is_admin; ",e.state.is_admin)})),t.user_cnic?this.getConsumer_complain_list():1===t.is_admin?this.getAllcomplain_list():this.getEmployeesForwardedComplaints(t.employee_id)}},{key:"render",value:function(){return this.props.context.authenticatedUser?r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement(le.a,null,r.a.createElement("div",{style:{fontSize:"1em",background:"#ECECEC",padding:"30px"}},r.a.createElement(F.a,{gutter:16},r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#D4EEE2"}},r.a.createElement(ka.a,{title:"Total",value:this.state.s_total,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/color/96/000000/total-sales-1.png"})}))),r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F1FAF5"}},r.a.createElement(ka.a,{title:"New",value:this.state.s_new,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/nolan/64/000000/fire-element.png"})}))),r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#D4EEE2"}},r.a.createElement(ka.a,{title:"In Process",value:this.state.s_pending,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/office/80/000000/road-worker.png"})}))),r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F1FAF5"}},r.a.createElement(ka.a,{title:"Resolved",value:this.state.s_pending,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/bubbles/50/000000/checkmark.png"})}))),r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#D4EEE2"}},r.a.createElement(ka.a,{title:"Forwarded",value:this.state.s_total,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/cute-clipart/64/000000/forward-message.png"})}))),r.a.createElement(q.a,{span:4},r.a.createElement(ge.a,{bordered:!1,style:{backgroundColor:"#F1FAF5"}},r.a.createElement(ka.a,{title:"Delay",value:0,precision:0,suffix:r.a.createElement("img",{width:30,src:"https://img.icons8.com/color/96/000000/timetable.png"})}))))),r.a.createElement(F.a,null,r.a.createElement(q.a,null,r.a.createElement(ja,{complaints:this.state.consumer_complaints}))))):r.a.createElement(x.a,{to:"/signin"})}}]),t}(n.Component),xa=a(268),Pa=a(584),Fa=a(70),Ta=a.n(Fa),Ma=A.a.Option,Aa=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:[],value:[],fetching:!1},a.fetchUser=function(e){console.log("fetching user",e),a.lastFetchId+=1;var t=a.lastFetchId;a.setState({data:[],fetching:!0}),fetch("http://localhost:3003/api/employee_list").then((function(e){return e.json()})).then((function(e){if(t===a.lastFetchId){console.log(e);var n=e.map((function(e){return{text:"".concat(e.full_name),value:e.employee_id}}));a.setState({data:n,fetching:!1})}}))},a.handleChange=function(e){console.log("handleChange called from userRemote",e),a.setState({value:e,data:[],fetching:!1},(function(){this.props.confirmBtnClicked(e)}))},a.lastFetchId=0,a.fetchUser=Ta()(a.fetchUser,800),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.fetching,a=e.data,n=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{style:{leftPadding:"0 !important",width:"100%"},mode:"multiple",labelInValue:!0,value:n,placeholder:"Select users",notFoundContent:t?r.a.createElement(kt.a,{size:"small"}):null,filterOption:!1,onSearch:this.fetchUser,onChange:this.handleChange},a.map((function(e){return r.a.createElement(Ma,{key:e.value},e.text)}))))}}]),t}(r.a.Component),Na=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={previewVisible:!1,previewImage:""},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.headerStyle={fontSize:14,lineHeight:"1.43em",minHeight:"1.43em",color:"white",background:"#007aff",justifyContent:"space-between",borderRadius:"8px 8px 0px 0px"},a.bodyStyle={fontSize:15,fontStyle:"normal",lineHeight:1.33,overflowWrap:"Break-word",color:"#424d57",padding:"12px",borderWidth:"0px 1px 1px",borderStyle:"solid",borderColor:"#dde2e6",borderImage:"initial",borderRadius:"0px 0px 8px 8px",overflow:"auto"},a.handlePreview=function(){var e=Object(m.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({previewImage:t,previewVisible:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.attachments,n=t.complaincard,o=t.user_name,l=t.created_at,i=t.complain_body,s=t.forwards_to_name,c=t.forwards_by_name,m=(t.suggested_date_reply,t.status),d=(t.is_public,t.isUser,this.state),u=d.previewVisible,p=d.previewImage,h=a&&a.split(",");return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{title:o,headStyle:this.headerStyle,bodyStyle:this.bodyStyle,extra:r.a.createElement("span",{style:{color:"white"}},"about ",Pt()(l).fromNow()),style:{borderRadius:8,marginTop:16}},i,r.a.createElement(be.a,null),!n&&r.a.createElement("span",{className:"css-1trnuga"},c&&s?r.a.createElement(r.a.Fragment,null,c," assigned Complaint to ",r.a.createElement("strong",null,s)):"",r.a.createElement("br",null),m?r.a.createElement(r.a.Fragment,null,c," changed complaint status to ",r.a.createElement("strong",null," ",m," ")):""),h&&h.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null),h.map((function(t){return r.a.createElement("span",{onClick:function(){return e.handlePreview(_+"".concat(t))}},r.a.createElement(T.a,{src:_+"".concat(t),className:"ml-2",shape:"square",size:140,icon:"user"}))})))),r.a.createElement(Y.a,{visible:u,onCancel:this.handleCancel,footer:null},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:p})))}}]),t}(r.a.Component),Ba=a(264),La=(sa.a.Header,sa.a.Footer,sa.a.Sider),Ra=sa.a.Content,Va=A.a.Option,za=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).id=a.props.match.params.id,a.state={username:"",password:"",role:"admin",loading:!0,errors:[],privateSwitchValue:!0,forwards_message:"",status:"",fileList:[],uploading:!1},a.onStatusChange=function(e){console.log("selected ".concat(e)),a.setState({status:e})},a.onsubmit=function(){var e=a.props.context.authenticatedUser,t=a.state,n=t.forwards_message,r=t.status,o=t.complainDetails,l=t.employeeAgent,i=t.privateSwitchValue?1:0,s=l&&l.employee_id?l.employee_id:o.forwards_to,c=Ba(),m=new FormData;m.append("complains_reporting_id",c),m.append("reporting_id",o.complain_id),m.append("complain_id",a.id),m.append("forwards_to",s),m.append("forwards_by",e.employee_id),m.append("forwards_date",Pt()().format("YYYY-MM-DD HH:mm:ss")),m.append("suggested_date_reply",Pt()().format("YYYY-MM-DD HH:mm:ss")),m.append("forwards_message",n),m.append("emp_name",e.full_name),m.append("is_reply",1),m.append("status",r),m.append("is_public",i),v.a.post("http://localhost:3003/api/reporting_complains",m).then((function(e){console.log("hi htere",e.data.status),201===e.data.status?(L.a.success("Register Successfully"),a.handleUpload(c)):400===e.data.status&&R.showErrorMessage("error")}))},a.onPrivateSwitchChange=function(e){a.setState({privateSwitchValue:e},(function(){return console.log("switch to ".concat(a.state.privateSwitchValue))}))},a.getComplain=function(){fetch("http://localhost:3003/api/complain/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.getConsumer_complain_list(),a.setState({complain_data:e.row},(function(){}))}))},a.getEmployee=function(e){fetch("http://localhost:3003/api/show_one_employee/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({employeeAgent:e[0]},(function(){console.log("getEmployee called: ",e[0])}))}))},a.getConsumer_complain_list=function(){fetch("http://localhost:3003/api/sc/".concat(a.id),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({data:e.rows,complainDetails:e.rows[e.rows.length-1],loading:!1},(function(){console.log("Complain_data: ",a.state.data)}))}))},a.showpromoteModal=function(){a.setState({visible_showpromoteModal:!0})},a.handleOk=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible_showpromoteModal:!1})},a.confirmBtnClicked=function(e){console.log("confirmBtnClicked",e),a.getEmployee(e[0].key)},a.handleConfirm=function(){a.state.employeeAgent?(console.log("Here is value",a.state.employeeAgent),a.setState({visible_showpromoteModal:!1})):L.a.warning("Please select an employee to reply report")},a.change=function(e){var t=e.target.name,n=e.target.value;a.setState((function(){return Object(i.a)({},t,n)}))},a.handleUpload=function(e){var t=a.state.fileList;0!==t.length&&(a.setState({uploading:!0}),t.forEach((function(t){var n=new FormData;n.append("attachment_id",Ba()),n.append("reporting_id",e),n.append("image",t),n.append("attachment_file_type",t.type),v.a.post("http://localhost:3003/api/reporting_attachment",n).then((function(e){var t=e.data;console.log(t),t.err?a.showErrorMessage(t.err,5):200===t.status&&(R.showSuccessMessage("Successfully sent a file!",1),a.getConsumer_complain_list())})).catch((function(e){a.setState({uploading:!1}),L.a.error("upload failed."+e.toString())})).finally((function(){a.setState({fileList:[],uploading:!1}),L.a.success("upload successfully.")}))})))},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getComplain()}},{key:"render",value:function(){var e=this,t=this.props.context,a=this.state,n=a.complainDetails,o=(a.forwards_message,a.status,a.uploading,a.fileList),l=a.complain_data,i={onRemove:function(t){e.setState((function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[].concat(Object(xa.a)(e.fileList),[t])}})),!1},fileList:o},s=t.authenticatedUser;this.state.selectedEmployeeId&&this.state.selectedEmployeeId[0].label;if(!s)return r.a.createElement(x.a,{to:"/signin"});var c=l&&l.created_us?Pt()(l.created_us).fromNow():"-",m=n&&n.forwards_date?Pt()(n.forwards_date).fromNow():"-",d=n&&n.status?n.status:"-",u=n&&n.employee_id,p=!this.state.loading&&this.state.data[0].forwards_date&&this.state.data.map((function(e){return s.user_cnic&&0===e.is_public?"":r.a.createElement(Na,{isUser:!s.user_cnic,forwards_to_name:e.full_name,forwards_by_name:e.employee_name,suggested_date_reply:e.suggested_date_reply,status:e.status,is_public:e.is_public,user_name:e.employee_name,created_at:e.forwards_date,complain_body:e.forwards_message,attachments:e.attachments})})),h="p-5 "+(s.user_cnic?" ":" demo-infinite-container");return r.a.createElement(r.a.Fragment,null,!this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(sa.a,null,r.a.createElement(Ra,null,r.a.createElement(le.a,{className:h},r.a.createElement(Na,{complaincard:!0,isUser:!s.user_cnic,user_name:l.user_name,created_at:l.created_us,complain_body:l.complain_body,attachments:l.attachments}),p),!s.user_cnic&&r.a.createElement("div",{className:"css-1panmox"},r.a.createElement("div",{className:"css-fqbvdm"},r.a.createElement("div",{className:"css-1zftos"},r.a.createElement("div",{className:"css-8l8s0b"},r.a.createElement(xe.a,{id:"forwards_message",name:"forwards_message",onChange:this.change,allowClear:!0,autoSize:{minRows:3,maxRows:5},className:"textAreaStyle",placeholder:"Type a message\u2026"}),r.a.createElement("div",{style:{paddingTop:10}},r.a.createElement(Pa.a,i,r.a.createElement(B.a,null,r.a.createElement(H.a,{type:"upload"})," Select File"))),r.a.createElement(be.a,null)),r.a.createElement("div",{className:"css-o6jqtj"},r.a.createElement("div",{className:"css-gg4vpm"},r.a.createElement("div",{className:"css-1utwezw"},"Private",r.a.createElement(be.a,{type:"vertical"}),r.a.createElement(oe.a,{defaultChecked:!0,title:"Private",onChange:this.onPrivateSwitchChange})),r.a.createElement("div",{className:"css-u4p24i"},r.a.createElement("div",{className:"css-11lt5zu"},r.a.createElement("span",{className:"css-7ngqza"},"Complaint status"),r.a.createElement(A.a,{defaultValue:"Open",style:{width:120},onChange:this.onStatusChange},r.a.createElement(Va,{value:"open"},"Open"),r.a.createElement(Va,{value:"pending"},"Pending"),r.a.createElement(Va,{value:"solved"},"Solved"),r.a.createElement(Va,{value:"closed"},"Closed"),r.a.createElement(Va,{value:"spam"},"Spam")),r.a.createElement(B.a,{className:"ml-2",onClick:this.showpromoteModal},this.state.employeeAgent?this.state.employeeAgent.full_name:"Forward To"),r.a.createElement(B.a,{className:"ml-2",type:"primary",onClick:this.onsubmit},"submit"))))))))),r.a.createElement(La,{width:320,style:{height:"100hv",backgroundColor:"#f3f7f9",color:"white"}},r.a.createElement(ge.a,{title:"Complaint Info",bordered:!1,style:{borderRadius:8,marginTop:16}},r.a.createElement("span",null,"Created: ")," ",r.a.createElement("strong",null,c),r.a.createElement(be.a,null),r.a.createElement("span",null,"Last message: ")," ",r.a.createElement("strong",null,m),r.a.createElement(be.a,null),r.a.createElement("span",null,"Status: ")," ",r.a.createElement("strong",null,d)),r.a.createElement(be.a,null),r.a.createElement(ge.a,{title:"Responsibility",bordered:!1,style:{borderRadius:8,marginTop:16}},r.a.createElement(ge.a,{bordered:!1,title:"Agent"},u?r.a.createElement(ge.a.Meta,{avatar:r.a.createElement(T.a,{src:"http://localhost:3003/"+this.state.complainDetails.employee_photo}),title:this.state.complainDetails.full_name,description:this.state.complainDetails.email}):r.a.createElement(ge.a.Meta,{description:"No agent assigned to this ticket."}))))),r.a.createElement(Y.a,{style:{width:"100%",height:"100%"},destroyOnClose:!0,title:"Assign to",visible:this.state.visible_showpromoteModal,onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(B.a,{key:"back",type:"danger",onClick:this.handleOk},"close"),r.a.createElement(B.a,{key:"back",type:"primary",onClick:this.handleConfirm},"Confirm")]},r.a.createElement(Aa,{confirmBtnClicked:this.confirmBtnClicked}))))}}]),t}(n.Component),Ua=(k(ot),k(ba),k(wa)),Ha=k(Ot),Ga=k(Rt),qa=k((function(e){e.context.authenticatedUser;return r.a.createElement(x.a,{from:"/",to:"/"})})),Wa=k(dt),Ya=k(pt),Ka=k((function(e){return e.context.actions.signOut(),r.a.createElement(x.a,{to:"/"})})),Ja=k(Ia),Qa=k(pa),Xa=k(za);a(570),a(571);l.a.render(r.a.createElement(O,null,r.a.createElement((function(){return r.a.createElement(I.a,null,r.a.createElement("div",null,r.a.createElement(Ua,null,r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/",component:Ha}),r.a.createElement(x.b,{exact:!0,path:"/test",component:Ga}),r.a.createElement(ft,{path:"/create_employee",component:Gt}),r.a.createElement(ft,{path:"/create_department",component:Wt}),r.a.createElement(ft,{path:"/create_designation",component:Yt}),r.a.createElement(ft,{path:"/create_division",component:ha}),r.a.createElement(ft,{path:"/create_sub_division",component:fa}),r.a.createElement(ft,{exact:!0,path:"/employee/:id",component:We}),r.a.createElement(ft,{exact:!0,path:"/employee_report/:id",component:Xt}),r.a.createElement(ft,{exact:!0,path:"/permissions/:id",component:it}),r.a.createElement(ft,{exact:!0,path:"/employeeHome/:id",component:Zt}),r.a.createElement(ft,{exact:!0,path:"/employeeAddress/:id",component:$t}),r.a.createElement(ft,{exact:!0,path:"/employeeAddressHome/:id",component:ea}),r.a.createElement(ft,{exact:!0,path:"/employee_designationHome/:id",component:ta}),r.a.createElement(ft,{exact:!0,path:"/employeeDesignation/:id",component:aa}),r.a.createElement(ft,{path:"/employee_list",component:ia}),r.a.createElement(ft,{path:"/complain_register",component:Qa}),r.a.createElement(ft,{path:"/complain_dashboard",component:Ja}),r.a.createElement(ft,{path:"/complaint/:id",component:Xa}),r.a.createElement(ft,{path:"/complain_reports",component:Xa}),r.a.createElement(ft,{path:"/authenticated",component:qa}),r.a.createElement(x.b,{path:"/signin",component:Ya}),r.a.createElement(x.b,{path:"/signup",component:Wa}),r.a.createElement(x.b,{path:"/signout",component:Ka}),r.a.createElement(x.b,{component:it})))))}),null)),document.getElementById("root"))}},[[293,3,4]]]);
//# sourceMappingURL=main.02ade410.chunk.js.map